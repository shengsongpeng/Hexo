{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/alpha-dust/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/alpha-dust/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/alpha-dust/source/img/bg-pattern.png","path":"img/bg-pattern.png","modified":0,"renderable":1}],"Cache":[{"_id":"themes/alpha-dust/.gitignore","hash":"2aa039aab52800662710bbf503671c770af96621","modified":1510800380000},{"_id":"themes/alpha-dust/LICENSE","hash":"20fb6ab02264ce4860e25cd70b50fa86c08f1cf8","modified":1510800380000},{"_id":"themes/alpha-dust/_config.yml","hash":"e0b0c9a63fa52416c37f0a519f7126bbec7eae4b","modified":1510800380000},{"_id":"themes/alpha-dust/README.md","hash":"82326b64f6b6c12dc8d3119096a003b0f51be547","modified":1510800380000},{"_id":"themes/alpha-dust/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1510800380000},{"_id":"themes/alpha-dust/.git/config","hash":"d4dd417701b9cddba99958c69486c3d0f1faa162","modified":1510800380000},{"_id":"themes/alpha-dust/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1510800371000},{"_id":"themes/alpha-dust/.git/index","hash":"cb77440f8c1050eacb64704ad3f9e8e6ec40a995","modified":1510800380000},{"_id":"themes/alpha-dust/.git/packed-refs","hash":"7e87e30a08be17d07c3301ff13eb10bab0d3246a","modified":1510800380000},{"_id":"themes/alpha-dust/languages/de.yml","hash":"424a9c1e6ab69334d7873f6574da02ca960aa572","modified":1510800380000},{"_id":"themes/alpha-dust/languages/default.yml","hash":"bc4b0f68c3579f8d9c217b96ae9d2da1991c92f7","modified":1510800380000},{"_id":"themes/alpha-dust/languages/en.yml","hash":"9debce519356b44354cf1a613f8916321e572d7f","modified":1510800380000},{"_id":"themes/alpha-dust/languages/pl.yml","hash":"de7eb5850ae65ba7638e907c805fea90617a988c","modified":1510800380000},{"_id":"themes/alpha-dust/languages/no.yml","hash":"8ca475a3b4f8efe6603030f0013aae39668230e1","modified":1510800380000},{"_id":"themes/alpha-dust/languages/es.yml","hash":"cb4eeca0ed3768a77e0cd216300f2b2549628b1b","modified":1510800380000},{"_id":"themes/alpha-dust/languages/fr.yml","hash":"e9e6f7cb362ebb7997f11027498a2748fe3bac95","modified":1510800380000},{"_id":"themes/alpha-dust/languages/zh-CN.yml","hash":"7bfcb0b8e97d7e5edcfca8ab26d55d9da2573c1c","modified":1510800380000},{"_id":"themes/alpha-dust/languages/ru.yml","hash":"42df7afeb7a35dc46d272b7f4fb880a9d9ebcaa5","modified":1510800380000},{"_id":"themes/alpha-dust/languages/pt.yml","hash":"1d0c3689eb32fe13f37f8f6f303af7624ebfbaf0","modified":1510800380000},{"_id":"themes/alpha-dust/languages/zh-TW.yml","hash":"9acac6cc4f8002c3fa53ff69fb8cf66c915bd016","modified":1510800380000},{"_id":"source/_posts/hello-world.md","hash":"8a02477044e2b77f1b262da2c48c01429e4a32e4","modified":1510755777000},{"_id":"source/_posts/ä»…ä»…ä¸€ä¸ªUIImageViewå°±å¯ä»¥å®ç°æ— é™è½®æ’­å›¾æ•ˆæœ.md","hash":"2f6d1b8fcdc4249429809fa455e6868dc98eb307","modified":1510758313000},{"_id":"source/_posts/è‹¹æœæ‰‹æœºé“ƒå£°è®¾ç½®ï¼ˆéè¶Šç‹±ã€æ— éœ€ä¸‹è½½è½¯ä»¶2017æœ€æ–°ç‰ˆæœ¬ï¼‰.md","hash":"bb831c74f2183fd87fd3815fad100f962ab0e992","modified":1510757658000},{"_id":"source/_posts/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1510758408000},{"_id":"source/_posts/CocoaPodsæœ€æ–°é•œåƒå®‰è£…æ–¹å¼å’Œå¸¸ç”¨ç›¸å…³å‘½ä»¤ï¼ˆå¸è½½ï¼Œé™çº§ï¼‰.md","hash":"e2b6eb2e87196bdbbe06d3d3bb6b693a922cf950","modified":1510758366000},{"_id":"source/_posts/æ ¹æ®å›¾ç‰‡è·å–æ‹æ‘„åœ°ç‚¹å’Œæ‹æ‘„æ—¶é—´.md","hash":"ba04e7e5dcfc2a236781e1ee088ee913a490547d","modified":1510758165000},{"_id":"themes/alpha-dust/layout/archive.ejs","hash":"535ea1205c3dd8782aa8dec64c5bb67a5e118be9","modified":1510800380000},{"_id":"themes/alpha-dust/layout/index.ejs","hash":"a3f94e4a627a83735b82d93694980e988a32d65e","modified":1510800380000},{"_id":"themes/alpha-dust/layout/layout.ejs","hash":"2655449a77b370284e6af41aa72c7d72660008fa","modified":1510800380000},{"_id":"themes/alpha-dust/layout/page.ejs","hash":"89254cee2ffa7fde1056d09b580a18dde9686a58","modified":1510800380000},{"_id":"themes/alpha-dust/layout/post.ejs","hash":"5c6c8d3c249c64c4879276d12159a50d5b65b775","modified":1510800380000},{"_id":"themes/alpha-dust/template/archive.html","hash":"239ef36831f10f892ecdbf4438994d62cc973caa","modified":1510800380000},{"_id":"themes/alpha-dust/template/index.html","hash":"8f5f763e912a2f84306e3857b476c5cd1c048cb0","modified":1510800380000},{"_id":"themes/alpha-dust/template/post.html","hash":"8c586749ca621e6b24c07d792cb28c7827a0ed21","modified":1510800380000},{"_id":"themes/alpha-dust/.git/logs/HEAD","hash":"e49feb6170ef3f431deadbbc88acc60b7dc909c3","modified":1510800380000},{"_id":"themes/alpha-dust/.git/info/exclude","hash":"bb5a85730dcf100facee799c05cc4f6affec0745","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1510800371000},{"_id":"themes/alpha-dust/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1510800371000},{"_id":"themes/alpha-dust/source/css/style.styl","hash":"47e8e5969922a74d0df6f3e8686b538a22db04ae","modified":1510800380000},{"_id":"themes/alpha-dust/source/js/main.js","hash":"7ee829ab42cf4d81280d20b5d664759436b19075","modified":1510800380000},{"_id":"themes/alpha-dust/source/img/bg-pattern.png","hash":"932374ff0b431bf83d092948e1714d90254dd92e","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/after-footer.ejs","hash":"15d1d1376aabe398cce7d18ff4af41635970dd29","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/article-archive.ejs","hash":"460768ed91c4bf71199f01685d7af385354ffd28","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/article-long.ejs","hash":"f2b2d0165cb35e30c9764c324e530f487e7de59e","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/article-short.ejs","hash":"792602a61177c8059ef27efd695532f456c8ca84","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/comments.ejs","hash":"423529d88d45e0a928f6cfadcf9aef27ccb63c13","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/footer_recent_posts.ejs","hash":"569addbbc7d548fca4986e09631489f8515280ff","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/footer_categories.ejs","hash":"1831ae75b1deb1729e858b2cd83e32fff3a33f6f","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/gallery.ejs","hash":"80c3758b90fe6c197b52602456e2c4dcf7167847","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/footer.ejs","hash":"1723a9bebcafc39007f58f2fbce597a2836f8276","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/head.ejs","hash":"668eca04a5e2ff2dbd2d99135b2a5428686e73d8","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/menu.ejs","hash":"452e31aa3016cdf9febfe5c2597a335417873f08","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/google-analytics.ejs","hash":"4e6e8de9becea5a1636a4dcadcf7a10c06e2426e","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/header.ejs","hash":"c189a234d36c6b5c51f814007d5d779bf42f0191","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/tag-cat-item.ejs","hash":"62e78d4f9cccaa1f32121309498596d6b4c5f0ad","modified":1510800380000},{"_id":"themes/alpha-dust/layout/_partial/pagination.ejs","hash":"b9ec572a16d79cba2341211d7623cd04d2b6e521","modified":1510800380000},{"_id":"themes/alpha-dust/template/css/font-awesome.css","hash":"4eda182cbcc046dbf449aef97c02c230cf80a494","modified":1510800380000},{"_id":"themes/alpha-dust/template/css/font-awesome.min.css","hash":"fb5b49426dee7f1508500e698d1b3c6b04c8fcce","modified":1510800380000},{"_id":"themes/alpha-dust/template/css/style.css","hash":"50bf62012aa42d76e71ef6c6d359e0c6b02f1f41","modified":1510800380000},{"_id":"themes/alpha-dust/template/css/style.styl","hash":"792ff84e3a2b75cbdc216c8b37089eff0c4ec6bc","modified":1510800380000},{"_id":"themes/alpha-dust/template/img/bg-pattern copy.png","hash":"932374ff0b431bf83d092948e1714d90254dd92e","modified":1510800380000},{"_id":"themes/alpha-dust/template/img/bg-pattern-blue.png","hash":"07016986a35c5bfc04c1599829d6a4798c966731","modified":1510800380000},{"_id":"themes/alpha-dust/template/img/bg-pattern.png","hash":"932374ff0b431bf83d092948e1714d90254dd92e","modified":1510800380000},{"_id":"themes/alpha-dust/template/img/hex-bg.png","hash":"a8444a553dd0fd7db09eda830bd3346cc87fc60e","modified":1510800380000},{"_id":"themes/alpha-dust/template/js/main.js","hash":"656d203e231f4533d97654816ff285fcbdfd0956","modified":1510800380000},{"_id":"themes/alpha-dust/.git/refs/heads/master","hash":"65e94990198d9c4f94567b7760866b9f91b02861","modified":1510800380000},{"_id":"themes/alpha-dust/.git/objects/pack/pack-b2720955267b5e2b1ad8cdf6de0e26421a39e1f6.idx","hash":"88bbcd222954b43f940e522d9bd2531757eb1f0b","modified":1510800380000},{"_id":"themes/alpha-dust/template/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1510800380000},{"_id":"themes/alpha-dust/template/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1510800380000},{"_id":"themes/alpha-dust/template/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1510800380000},{"_id":"themes/alpha-dust/template/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1510800380000},{"_id":"themes/alpha-dust/template/img/session_image.jpeg","hash":"5a3669c0564044f56cb7cea464119a8e388fb18f","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/archive.styl","hash":"77f7b4341cb8d12191035150de6bb04635eb2a89","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/base.styl","hash":"f01047771a92520cf318930331517f4c9e70c04a","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/code.styl","hash":"3d2bbfef131c2f3fc5d44f54597da850ce29e2cf","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/footer.styl","hash":"0a086dfb77bc55b27378f97e442e3a696f69048f","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/header.styl","hash":"2e1e2ab562719127c7e216a49f8d7c02f9a0c2c4","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/menu.styl","hash":"746c0bc7b37096b5f0f0a451c4783a054b22c309","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/pagination.styl","hash":"2368cc9bd2404bce950b55fb2d9be3e7f1e1039c","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/post-content.styl","hash":"117b655a4f0c78b3cb3fb7be3e09b829c1debc49","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/post-layout.styl","hash":"b60fbbd78ca88d2174db1426cf941b6c998dd823","modified":1510800380000},{"_id":"themes/alpha-dust/source/css/_partial/variables.styl","hash":"789108805cf6d536b8a979a722b5b26a7e27fb28","modified":1510800380000},{"_id":"themes/alpha-dust/template/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1510800380000},{"_id":"themes/alpha-dust/.git/logs/refs/heads/master","hash":"e49feb6170ef3f431deadbbc88acc60b7dc909c3","modified":1510800380000},{"_id":"themes/alpha-dust/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1510800380000},{"_id":"themes/alpha-dust/.git/logs/refs/remotes/origin/HEAD","hash":"e49feb6170ef3f431deadbbc88acc60b7dc909c3","modified":1510800380000},{"_id":"themes/alpha-dust/template/fonts/fontawesome-webfont.svg","hash":"c0522272bbaef2acb3d341912754d6ea2d0ecfc0","modified":1510800380000},{"_id":"themes/alpha-dust/.git/objects/pack/pack-b2720955267b5e2b1ad8cdf6de0e26421a39e1f6.pack","hash":"260b69e273cfdc1bde9b15c8ac217b93fb2b48bb","modified":1510800380000},{"_id":"public/2017/undefined  typeth/15/hello-world/index.html","hash":"fd98f0e808e1c39eefdab32c1e286d3bce1290a3","modified":1510800664902},{"_id":"public/archives/index.html","hash":"9636a734c5e57b791a37d22bcf9f7ea3bf656960","modified":1510800664902},{"_id":"public/archives/2017/index.html","hash":"8c37664d98afc2d3a8d4f892f0f83e1dbbdbcf0c","modified":1510800664902},{"_id":"public/archives/2017/11/index.html","hash":"c660f0073e1a9d6821392855da0a26f46798d0f6","modified":1510800664902},{"_id":"public/2017/undefined  typeth/15/è‹¹æœæ‰‹æœºé“ƒå£°è®¾ç½®ï¼ˆéè¶Šç‹±ã€æ— éœ€ä¸‹è½½è½¯ä»¶2017æœ€æ–°ç‰ˆæœ¬ï¼‰/index.html","hash":"565c29c4b5e0ecda2de5f23809f20afdddf28558","modified":1510800664902},{"_id":"public/2017/undefined  typeth/15/CocoaPodsæœ€æ–°é•œåƒå®‰è£…æ–¹å¼å’Œå¸¸ç”¨ç›¸å…³å‘½ä»¤ï¼ˆå¸è½½ï¼Œé™çº§ï¼‰/index.html","hash":"9b3b4d71b2485a2cef655e3d53b2402604b45dca","modified":1510800664902},{"_id":"public/2017/undefined  typeth/15/ä»…ä»…ä¸€ä¸ªUIImageViewå°±å¯ä»¥å®ç°æ— é™è½®æ’­å›¾æ•ˆæœ/index.html","hash":"a5f4209e88d31b389ae4dba1678757edab61ba1e","modified":1510800664902},{"_id":"public/2017/undefined  typeth/15/æ ¹æ®å›¾ç‰‡è·å–æ‹æ‘„åœ°ç‚¹å’Œæ‹æ‘„æ—¶é—´/index.html","hash":"43dd7183cb1fe0bf54efeb84d95383aaf74f7e1d","modified":1510800664902},{"_id":"public/index.html","hash":"0a30b9bbc42212394cfe4464b4050fd57f386736","modified":1510800664903},{"_id":"public/img/bg-pattern.png","hash":"932374ff0b431bf83d092948e1714d90254dd92e","modified":1510800664904},{"_id":"public/css/style.css","hash":"a8b4312a0a6e600e3c1629df20e2860757370d10","modified":1510800665155},{"_id":"public/js/main.js","hash":"7ee829ab42cf4d81280d20b5d664759436b19075","modified":1510800665155}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2017-11-15T14:22:57.000Z","updated":"2017-11-15T14:22:57.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cja1vphkd0000p9fyika5cjt1","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"ä»…ä»…ä¸€ä¸ªUIImageViewå°±å¯ä»¥å®ç°æ— é™è½®æ’­å›¾æ•ˆæœ","date":"2017-11-15T15:04:26.000Z","_content":"![æ•ˆæœå›¾](http://upload-images.jianshu.io/upload_images/1505288-93870e8644cd442d.gif?imageMogr2/auto-orient/strip)\n\né¦–å…ˆæ„Ÿè°¢å³ä¾§é“¾æ¥ä»£ç ä¸­çš„å›¾ç‰‡ç´ æğŸ˜~[å¤§ç¥ä½¿ç”¨UICollectionViewå®ç°çš„è½®æ’­å›¾](http://www.code4app.com/forum.php?mod=viewthread&tid=11742&extra=page%3D1)\n\næ®è¯´æ­¤ä¸‰æ–¹å¥½å¤šå¥½å¤šäººç”¨[å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ¡†æ¶SDCycleScrollView](https://github.com/gsdios/SDCycleScrollView)\n\n###è½®æ’­å›¾çš„å®ç°æ–¹å¼\n>1. ä½¿ç”¨UIScrollViewé€šè¿‡contentSizeè®¾ç½®UIImageViewçš„å±•ç¤ºé¢„å¤„ç†\n>2. ä½¿ç”¨UICollectionViewé€šè¿‡è®¾ç½®item\n>3. ä½¿ç”¨UISwipeGestureRecognizeroræˆ–è€…TouchesBeganç­‰æ–¹æ³•\n\nç½‘ç»œä¸Šå¤§éƒ¨åˆ†æ˜¯ä½¿ç”¨UIScrollViewé…åˆä¸‰ä¸ªæˆ–è€…ä¸¤ä¸ªUIImageViewæ¥å®ç°çš„è½®æ’­å›¾ï¼Œå°±å†æƒ³å¯ä¸å¯ä»¥ä½¿ç”¨ä¸€ä¸ªUIImgeViewå®ç°ï¼Œä»è€Œç¬¬ä¸‰ç§å®ç°æ–¹å¼ä¹Ÿå°±è¯ç”Ÿäº†ï¼Œè™½ç„¶ä¸æ˜¯ç‰¹åˆ«å®ç”¨ï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯ä¸€ç§ç®€å•æ€ç»´\n\n-----\n\n###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰é€»è¾‘\n>1. é€šè¿‡UIImageViewæ·»åŠ å‘å·¦å‘å³çš„è½»æ‰«æ‰‹åŠ¿\n>2. å½“è§¦å‘è½»æ‰«æ‰‹åŠ¿çš„å“åº”äº‹ä»¶æ—¶ï¼Œé‡æ–°è®¾ç½®Index\n>3. ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»\n>4. æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView\n>5. èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿\n\n-----\n\n###TouchesBeganç­‰æ–¹æ³•çš„é€»è¾‘\n\n>1. å†™ä¸€ä¸ªUIImageViewçš„å­ç±»ï¼Œå¹¶åœ¨å…¶ä¸­å®ç°Beganã€Moveã€Endæ–¹æ³•\n>1. å’Œä½¿ç”¨UIBezierPathç»˜åˆ¶ç”»æ¿åŒç†ï¼Œé¦–å…ˆåœ¨Touchç­‰æ–¹æ³•ä¸­è·å–å¯¹åº”çš„ç‚¹\n>2. æ ¹æ®ç‚¹çš„ä½ç½®æ”¹å˜æ¥åˆ¤æ–­å‘å·¦æ»‘è¿˜æ˜¯å‘å³æ»‘\n>3. ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»\n>4. æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView\n>5. èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿\n\n---\n\n>ä¸»è¦ä»¥UISwipeGestureRecognizerorä¸ºä¾‹å­ğŸŒ°\n\n###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰ç›¸å…³ä»£ç \n\n> ä¸€äº›æ‡’åŠ è½½ï¼Œæ³¨é‡Šå·²ç»æ ‡æ˜æ¸…æ¥š\n\nÂ  Â  var selectedIndex = 0//å½“å‰å›¾ç‰‡\nÂ Â  \nÂ  Â  lazy var imageView: UIImageView = {//å±•ç¤ºimage\nÂ  Â  Â  Â  let imageview = UIImageView()\nÂ  Â  Â  Â  imageview.image = UIImage(named: \"\\(self.selectedIndex)\")\nÂ  Â  Â  Â  return imageview\nÂ  Â  }()\nÂ Â  Â \nÂ  Â  lazy var swipeRight: UISwipeGestureRecognizer = {//ä»å·¦å¾€å³æ»‘æ‰‹åŠ¿\nÂ  Â  Â  Â  let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapRightAction))\nÂ  Â  Â  Â  swipe.direction = .right\n\nÂ  Â  Â  Â  return swipe\nÂ  Â  }()\n\nÂ  Â  lazy var swipeLeft: UISwipeGestureRecognizer = {//ä»å³å¾€å·¦æ»‘æ‰‹åŠ¿\nÂ  Â  Â  Â  let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapLeftAction))\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  swipe.direction = .left\nÂ  Â  Â  Â  return swipe\nÂ  Â  }()\nÂ Â  Â \nÂ  Â  lazy var page: UIPageControl = {\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  let page = UIPageControl()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.numberOfPages = self.dataList.count\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPage = self.selectedIndex\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.pageIndicatorTintColor = UIColor.green\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPageIndicatorTintColor = UIColor.red\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  return page\nÂ  Â  }()\nÂ Â  Â \nÂ  Â  lazy var dataList: Array<String> = {//imageæ•°æ®æº\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  var arr: Array<String> = []\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  for i in 0...10 {\nÂ  Â  Â  Â  Â  Â  arr.append(\"\\(i)\")\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  return arr\nÂ  Â  }()\n\n> viewDidLoad\n\nÂ  Â  override func viewDidLoad() {\nÂ  Â  Â  Â  super.viewDidLoad()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.frame = CGRect(x: 0, y: 0, width: screen_width, height: screen_height)\n\nÂ Â  Â  Â  Â //é‡è¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ç»™imageViewæ·»åŠ æ‰‹åŠ¿éœ€è¦å°†isUserInteractionEnabledè®¾ç½®ä¸ºtrue\nÂ  Â  Â  Â  imageView.isUserInteractionEnabled = true\nÂ Â  Â  Â  Â \n        //æ·»åŠ å‘å·¦æ‰‹åŠ¿\nÂ  Â  Â  Â  imageView.addGestureRecognizer(swipeLeft)\n\nÂ Â  Â  Â  Â //æ·»åŠ å‘å³æ‰‹åŠ¿\nÂ  Â  Â  Â  imageView.addGestureRecognizer(swipeRight)\nÂ Â  Â  Â  Â \n        //è·å–pageçš„size\nÂ  Â  Â  Â  let pageSize = page.size(forNumberOfPages: dataList.count)\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.frame = CGRect(x: 0, y: imageView.frame.maxY - pageSize.height, width: pageSize.width, height: pageSize.height)\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.center.x = imageView.frame.width / 2\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  view.addSubview(imageView)\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  view.addSubview(page)\nÂ Â  Â  Â  Â \nÂ  Â  }\n\n> ä»å·¦å¾€å³æ»‘åŠ¨çš„å“åº”äº‹ä»¶\n\nÂ  Â  func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  let transition = CATransition()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.type = kCATransitionPush\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.subtype = kCATransitionFromLeft\n\nÂ Â  Â  Â  Â //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å·¦ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º10\nÂ  Â  Â  Â  selectedIndex = selectedIndex <= 0 ? 10 : selectedIndex - 1\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPage = selectedIndex\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.image = UIImage(named: \"\\(dataList[selectedIndex])\")\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.layer.add(transition, forKey: \"right\")\nÂ Â  Â  Â  Â \nÂ  Â  }\n> ä»å³å¾€å·¦æ»‘åŠ¨çš„å“åº”äº‹ä»¶\n\nÂ  Â  func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\n\nÂ  Â  Â  Â  //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  let transition = CATransition()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.type = kCATransitionPush\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.subtype = kCATransitionFromRight\nÂ Â  Â  Â  Â Â Â  Â  Â  Â \n        //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å³ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º0\nÂ  Â  Â  Â  selectedIndex = selectedIndex >= 10 ? 0 : selectedIndex + 1\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPage = selectedIndex\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.image = UIImage(named: \"\\(dataList[selectedIndex])\")\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.layer.add(transition, forKey: \"left\")\nÂ Â  Â  Â  Â Â Â  Â  Â  Â \nÂ  Â  }\n\nTouchesåŸºæœ¬åŒç†ï¼Œå†æ­¤ä¸ä¸€ä¸€èµ˜è¿°äº†\n\n----\n\n>æ€»ç»“\n1. ä½¿ç”¨UISwipeGestureRecognizeræ— éœ€è€ƒè™‘UIImageViewçš„å¤ç”¨é—®é¢˜ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªimaegView\n2. è½®æ’­å›¾åˆ†ä¸ºæ‰‹åŠ¨å’Œè‡ªåŠ¨ï¼Œæœ¬æ–‡ä¸ºæ‰‹åŠ¨æ§åˆ¶æ²¡æœ‰åŠ timerï¼Œå¦‚æœæ”¹ä¸ºè‡ªåŠ¨ï¼Œåªéœ€è¦åœ¨åœ¨å®šæ—¶è°ƒç”¨æ–¹æ³•å³å¯\n3. ä½¿ç”¨UISwipeGestureRecognizerå®ç°ï¼Œæ‰‹æŒ‡æ»‘åŠ¨ä¸€ç‚¹ç‚¹ï¼Œå†åˆ’å›æ¥ï¼Œè¿™ä¸ªæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹å¼ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨Touchesçš„ç›¸å…³æ–¹æ³•è§£å†³ï¼Œå› ä¸ºæ‰‹æŒ‡ç¦»å¼€æ‰å›å»è°ƒç”¨Endæ–¹æ³•\n\n----\n\n> å°å°¾å·´~~~\n\nä¸ºä»€ä¹ˆå¾ˆå¤šäººä¸ç”¨è¿™ç§æ–¹æ³•ï¼Œåç­‰å„ä½å¤§ç¥å›å¤ï¼Œä¸ªäººè§‰å¾—æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå®Œå…¨å¯ä»¥ç²¾ä»¿\n\n>demoåœ°å€\n[github](https://github.com/pengshengsongcode/CycleImageView)","source":"_posts/ä»…ä»…ä¸€ä¸ªUIImageViewå°±å¯ä»¥å®ç°æ— é™è½®æ’­å›¾æ•ˆæœ.md","raw":"---\ntitle: ä»…ä»…ä¸€ä¸ªUIImageViewå°±å¯ä»¥å®ç°æ— é™è½®æ’­å›¾æ•ˆæœ\ndate: 2017-11-15 23:04:26\ntags:\n---\n![æ•ˆæœå›¾](http://upload-images.jianshu.io/upload_images/1505288-93870e8644cd442d.gif?imageMogr2/auto-orient/strip)\n\né¦–å…ˆæ„Ÿè°¢å³ä¾§é“¾æ¥ä»£ç ä¸­çš„å›¾ç‰‡ç´ æğŸ˜~[å¤§ç¥ä½¿ç”¨UICollectionViewå®ç°çš„è½®æ’­å›¾](http://www.code4app.com/forum.php?mod=viewthread&tid=11742&extra=page%3D1)\n\næ®è¯´æ­¤ä¸‰æ–¹å¥½å¤šå¥½å¤šäººç”¨[å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ¡†æ¶SDCycleScrollView](https://github.com/gsdios/SDCycleScrollView)\n\n###è½®æ’­å›¾çš„å®ç°æ–¹å¼\n>1. ä½¿ç”¨UIScrollViewé€šè¿‡contentSizeè®¾ç½®UIImageViewçš„å±•ç¤ºé¢„å¤„ç†\n>2. ä½¿ç”¨UICollectionViewé€šè¿‡è®¾ç½®item\n>3. ä½¿ç”¨UISwipeGestureRecognizeroræˆ–è€…TouchesBeganç­‰æ–¹æ³•\n\nç½‘ç»œä¸Šå¤§éƒ¨åˆ†æ˜¯ä½¿ç”¨UIScrollViewé…åˆä¸‰ä¸ªæˆ–è€…ä¸¤ä¸ªUIImageViewæ¥å®ç°çš„è½®æ’­å›¾ï¼Œå°±å†æƒ³å¯ä¸å¯ä»¥ä½¿ç”¨ä¸€ä¸ªUIImgeViewå®ç°ï¼Œä»è€Œç¬¬ä¸‰ç§å®ç°æ–¹å¼ä¹Ÿå°±è¯ç”Ÿäº†ï¼Œè™½ç„¶ä¸æ˜¯ç‰¹åˆ«å®ç”¨ï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯ä¸€ç§ç®€å•æ€ç»´\n\n-----\n\n###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰é€»è¾‘\n>1. é€šè¿‡UIImageViewæ·»åŠ å‘å·¦å‘å³çš„è½»æ‰«æ‰‹åŠ¿\n>2. å½“è§¦å‘è½»æ‰«æ‰‹åŠ¿çš„å“åº”äº‹ä»¶æ—¶ï¼Œé‡æ–°è®¾ç½®Index\n>3. ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»\n>4. æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView\n>5. èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿\n\n-----\n\n###TouchesBeganç­‰æ–¹æ³•çš„é€»è¾‘\n\n>1. å†™ä¸€ä¸ªUIImageViewçš„å­ç±»ï¼Œå¹¶åœ¨å…¶ä¸­å®ç°Beganã€Moveã€Endæ–¹æ³•\n>1. å’Œä½¿ç”¨UIBezierPathç»˜åˆ¶ç”»æ¿åŒç†ï¼Œé¦–å…ˆåœ¨Touchç­‰æ–¹æ³•ä¸­è·å–å¯¹åº”çš„ç‚¹\n>2. æ ¹æ®ç‚¹çš„ä½ç½®æ”¹å˜æ¥åˆ¤æ–­å‘å·¦æ»‘è¿˜æ˜¯å‘å³æ»‘\n>3. ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»\n>4. æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView\n>5. èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿\n\n---\n\n>ä¸»è¦ä»¥UISwipeGestureRecognizerorä¸ºä¾‹å­ğŸŒ°\n\n###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰ç›¸å…³ä»£ç \n\n> ä¸€äº›æ‡’åŠ è½½ï¼Œæ³¨é‡Šå·²ç»æ ‡æ˜æ¸…æ¥š\n\nÂ  Â  var selectedIndex = 0//å½“å‰å›¾ç‰‡\nÂ Â  \nÂ  Â  lazy var imageView: UIImageView = {//å±•ç¤ºimage\nÂ  Â  Â  Â  let imageview = UIImageView()\nÂ  Â  Â  Â  imageview.image = UIImage(named: \"\\(self.selectedIndex)\")\nÂ  Â  Â  Â  return imageview\nÂ  Â  }()\nÂ Â  Â \nÂ  Â  lazy var swipeRight: UISwipeGestureRecognizer = {//ä»å·¦å¾€å³æ»‘æ‰‹åŠ¿\nÂ  Â  Â  Â  let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapRightAction))\nÂ  Â  Â  Â  swipe.direction = .right\n\nÂ  Â  Â  Â  return swipe\nÂ  Â  }()\n\nÂ  Â  lazy var swipeLeft: UISwipeGestureRecognizer = {//ä»å³å¾€å·¦æ»‘æ‰‹åŠ¿\nÂ  Â  Â  Â  let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapLeftAction))\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  swipe.direction = .left\nÂ  Â  Â  Â  return swipe\nÂ  Â  }()\nÂ Â  Â \nÂ  Â  lazy var page: UIPageControl = {\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  let page = UIPageControl()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.numberOfPages = self.dataList.count\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPage = self.selectedIndex\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.pageIndicatorTintColor = UIColor.green\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPageIndicatorTintColor = UIColor.red\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  return page\nÂ  Â  }()\nÂ Â  Â \nÂ  Â  lazy var dataList: Array<String> = {//imageæ•°æ®æº\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  var arr: Array<String> = []\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  for i in 0...10 {\nÂ  Â  Â  Â  Â  Â  arr.append(\"\\(i)\")\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  return arr\nÂ  Â  }()\n\n> viewDidLoad\n\nÂ  Â  override func viewDidLoad() {\nÂ  Â  Â  Â  super.viewDidLoad()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.frame = CGRect(x: 0, y: 0, width: screen_width, height: screen_height)\n\nÂ Â  Â  Â  Â //é‡è¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ç»™imageViewæ·»åŠ æ‰‹åŠ¿éœ€è¦å°†isUserInteractionEnabledè®¾ç½®ä¸ºtrue\nÂ  Â  Â  Â  imageView.isUserInteractionEnabled = true\nÂ Â  Â  Â  Â \n        //æ·»åŠ å‘å·¦æ‰‹åŠ¿\nÂ  Â  Â  Â  imageView.addGestureRecognizer(swipeLeft)\n\nÂ Â  Â  Â  Â //æ·»åŠ å‘å³æ‰‹åŠ¿\nÂ  Â  Â  Â  imageView.addGestureRecognizer(swipeRight)\nÂ Â  Â  Â  Â \n        //è·å–pageçš„size\nÂ  Â  Â  Â  let pageSize = page.size(forNumberOfPages: dataList.count)\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.frame = CGRect(x: 0, y: imageView.frame.maxY - pageSize.height, width: pageSize.width, height: pageSize.height)\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.center.x = imageView.frame.width / 2\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  view.addSubview(imageView)\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  view.addSubview(page)\nÂ Â  Â  Â  Â \nÂ  Â  }\n\n> ä»å·¦å¾€å³æ»‘åŠ¨çš„å“åº”äº‹ä»¶\n\nÂ  Â  func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  let transition = CATransition()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.type = kCATransitionPush\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.subtype = kCATransitionFromLeft\n\nÂ Â  Â  Â  Â //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å·¦ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º10\nÂ  Â  Â  Â  selectedIndex = selectedIndex <= 0 ? 10 : selectedIndex - 1\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPage = selectedIndex\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.image = UIImage(named: \"\\(dataList[selectedIndex])\")\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.layer.add(transition, forKey: \"right\")\nÂ Â  Â  Â  Â \nÂ  Â  }\n> ä»å³å¾€å·¦æ»‘åŠ¨çš„å“åº”äº‹ä»¶\n\nÂ  Â  func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\n\nÂ  Â  Â  Â  //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  let transition = CATransition()\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.type = kCATransitionPush\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  transition.subtype = kCATransitionFromRight\nÂ Â  Â  Â  Â Â Â  Â  Â  Â \n        //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å³ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º0\nÂ  Â  Â  Â  selectedIndex = selectedIndex >= 10 ? 0 : selectedIndex + 1\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  page.currentPage = selectedIndex\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.image = UIImage(named: \"\\(dataList[selectedIndex])\")\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  imageView.layer.add(transition, forKey: \"left\")\nÂ Â  Â  Â  Â Â Â  Â  Â  Â \nÂ  Â  }\n\nTouchesåŸºæœ¬åŒç†ï¼Œå†æ­¤ä¸ä¸€ä¸€èµ˜è¿°äº†\n\n----\n\n>æ€»ç»“\n1. ä½¿ç”¨UISwipeGestureRecognizeræ— éœ€è€ƒè™‘UIImageViewçš„å¤ç”¨é—®é¢˜ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªimaegView\n2. è½®æ’­å›¾åˆ†ä¸ºæ‰‹åŠ¨å’Œè‡ªåŠ¨ï¼Œæœ¬æ–‡ä¸ºæ‰‹åŠ¨æ§åˆ¶æ²¡æœ‰åŠ timerï¼Œå¦‚æœæ”¹ä¸ºè‡ªåŠ¨ï¼Œåªéœ€è¦åœ¨åœ¨å®šæ—¶è°ƒç”¨æ–¹æ³•å³å¯\n3. ä½¿ç”¨UISwipeGestureRecognizerå®ç°ï¼Œæ‰‹æŒ‡æ»‘åŠ¨ä¸€ç‚¹ç‚¹ï¼Œå†åˆ’å›æ¥ï¼Œè¿™ä¸ªæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹å¼ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨Touchesçš„ç›¸å…³æ–¹æ³•è§£å†³ï¼Œå› ä¸ºæ‰‹æŒ‡ç¦»å¼€æ‰å›å»è°ƒç”¨Endæ–¹æ³•\n\n----\n\n> å°å°¾å·´~~~\n\nä¸ºä»€ä¹ˆå¾ˆå¤šäººä¸ç”¨è¿™ç§æ–¹æ³•ï¼Œåç­‰å„ä½å¤§ç¥å›å¤ï¼Œä¸ªäººè§‰å¾—æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå®Œå…¨å¯ä»¥ç²¾ä»¿\n\n>demoåœ°å€\n[github](https://github.com/pengshengsongcode/CycleImageView)","slug":"ä»…ä»…ä¸€ä¸ªUIImageViewå°±å¯ä»¥å®ç°æ— é™è½®æ’­å›¾æ•ˆæœ","published":1,"updated":"2017-11-15T15:05:13.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cja1vphkh0001p9fyhpqbnvmc","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-93870e8644cd442d.gif?imageMogr2/auto-orient/strip\" alt=\"æ•ˆæœå›¾\"></p>\n<p>é¦–å…ˆæ„Ÿè°¢å³ä¾§é“¾æ¥ä»£ç ä¸­çš„å›¾ç‰‡ç´ æğŸ˜~<a href=\"http://www.code4app.com/forum.php?mod=viewthread&amp;tid=11742&amp;extra=page%3D1\" target=\"_blank\" rel=\"noopener\">å¤§ç¥ä½¿ç”¨UICollectionViewå®ç°çš„è½®æ’­å›¾</a></p>\n<p>æ®è¯´æ­¤ä¸‰æ–¹å¥½å¤šå¥½å¤šäººç”¨<a href=\"https://github.com/gsdios/SDCycleScrollView\" target=\"_blank\" rel=\"noopener\">å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ¡†æ¶SDCycleScrollView</a></p>\n<p>###è½®æ’­å›¾çš„å®ç°æ–¹å¼</p>\n<blockquote>\n<ol>\n<li>ä½¿ç”¨UIScrollViewé€šè¿‡contentSizeè®¾ç½®UIImageViewçš„å±•ç¤ºé¢„å¤„ç†</li>\n<li>ä½¿ç”¨UICollectionViewé€šè¿‡è®¾ç½®item</li>\n<li>ä½¿ç”¨UISwipeGestureRecognizeroræˆ–è€…TouchesBeganç­‰æ–¹æ³•</li>\n</ol>\n</blockquote>\n<p>ç½‘ç»œä¸Šå¤§éƒ¨åˆ†æ˜¯ä½¿ç”¨UIScrollViewé…åˆä¸‰ä¸ªæˆ–è€…ä¸¤ä¸ªUIImageViewæ¥å®ç°çš„è½®æ’­å›¾ï¼Œå°±å†æƒ³å¯ä¸å¯ä»¥ä½¿ç”¨ä¸€ä¸ªUIImgeViewå®ç°ï¼Œä»è€Œç¬¬ä¸‰ç§å®ç°æ–¹å¼ä¹Ÿå°±è¯ç”Ÿäº†ï¼Œè™½ç„¶ä¸æ˜¯ç‰¹åˆ«å®ç”¨ï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯ä¸€ç§ç®€å•æ€ç»´</p>\n<hr>\n<p>###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰é€»è¾‘</p>\n<blockquote>\n<ol>\n<li>é€šè¿‡UIImageViewæ·»åŠ å‘å·¦å‘å³çš„è½»æ‰«æ‰‹åŠ¿</li>\n<li>å½“è§¦å‘è½»æ‰«æ‰‹åŠ¿çš„å“åº”äº‹ä»¶æ—¶ï¼Œé‡æ–°è®¾ç½®Index</li>\n<li>ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»</li>\n<li>æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView</li>\n<li>èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿</li>\n</ol>\n</blockquote>\n<hr>\n<p>###TouchesBeganç­‰æ–¹æ³•çš„é€»è¾‘</p>\n<blockquote>\n<ol>\n<li>å†™ä¸€ä¸ªUIImageViewçš„å­ç±»ï¼Œå¹¶åœ¨å…¶ä¸­å®ç°Beganã€Moveã€Endæ–¹æ³•</li>\n<li>å’Œä½¿ç”¨UIBezierPathç»˜åˆ¶ç”»æ¿åŒç†ï¼Œé¦–å…ˆåœ¨Touchç­‰æ–¹æ³•ä¸­è·å–å¯¹åº”çš„ç‚¹</li>\n<li>æ ¹æ®ç‚¹çš„ä½ç½®æ”¹å˜æ¥åˆ¤æ–­å‘å·¦æ»‘è¿˜æ˜¯å‘å³æ»‘</li>\n<li>ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»</li>\n<li>æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView</li>\n<li>èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿</li>\n</ol>\n</blockquote>\n<hr>\n<blockquote>\n<p>ä¸»è¦ä»¥UISwipeGestureRecognizerorä¸ºä¾‹å­ğŸŒ°</p>\n</blockquote>\n<p>###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰ç›¸å…³ä»£ç </p>\n<blockquote>\n<p>ä¸€äº›æ‡’åŠ è½½ï¼Œæ³¨é‡Šå·²ç»æ ‡æ˜æ¸…æ¥š</p>\n</blockquote>\n<pre><code>var selectedIndex = 0//å½“å‰å›¾ç‰‡\n\nlazy var imageView: UIImageView = {//å±•ç¤ºimage\n    let imageview = UIImageView()\n    imageview.image = UIImage(named: &quot;\\(self.selectedIndex)&quot;)\n    return imageview\n}()\n\nlazy var swipeRight: UISwipeGestureRecognizer = {//ä»å·¦å¾€å³æ»‘æ‰‹åŠ¿\n    let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapRightAction))\n    swipe.direction = .right\n\n    return swipe\n}()\n\nlazy var swipeLeft: UISwipeGestureRecognizer = {//ä»å³å¾€å·¦æ»‘æ‰‹åŠ¿\n    let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapLeftAction))\n\n    swipe.direction = .left\n    return swipe\n}()\n\nlazy var page: UIPageControl = {\n\n    let page = UIPageControl()\n\n    page.numberOfPages = self.dataList.count\n\n    page.currentPage = self.selectedIndex\n\n    page.pageIndicatorTintColor = UIColor.green\n\n    page.currentPageIndicatorTintColor = UIColor.red\n\n    return page\n}()\n\nlazy var dataList: Array&lt;String&gt; = {//imageæ•°æ®æº\n\n    var arr: Array&lt;String&gt; = []\n\n    for i in 0...10 {\n        arr.append(&quot;\\(i)&quot;)\n    }\n\n    return arr\n}()\n</code></pre><blockquote>\n<p>viewDidLoad</p>\n</blockquote>\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    imageView.frame = CGRect(x: 0, y: 0, width: screen_width, height: screen_height)\n\n    //é‡è¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ç»™imageViewæ·»åŠ æ‰‹åŠ¿éœ€è¦å°†isUserInteractionEnabledè®¾ç½®ä¸ºtrue\n    imageView.isUserInteractionEnabled = true\n\n    //æ·»åŠ å‘å·¦æ‰‹åŠ¿\n    imageView.addGestureRecognizer(swipeLeft)\n\n    //æ·»åŠ å‘å³æ‰‹åŠ¿\n    imageView.addGestureRecognizer(swipeRight)\n\n    //è·å–pageçš„size\n    let pageSize = page.size(forNumberOfPages: dataList.count)\n\n    page.frame = CGRect(x: 0, y: imageView.frame.maxY - pageSize.height, width: pageSize.width, height: pageSize.height)\n\n    page.center.x = imageView.frame.width / 2\n\n    view.addSubview(imageView)\n\n    view.addSubview(page)\n\n}\n</code></pre><blockquote>\n<p>ä»å·¦å¾€å³æ»‘åŠ¨çš„å“åº”äº‹ä»¶</p>\n</blockquote>\n<pre><code>func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\n\n    //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\n\n    let transition = CATransition()\n\n    transition.type = kCATransitionPush\n\n    transition.subtype = kCATransitionFromLeft\n\n    //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å·¦ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º10\n    selectedIndex = selectedIndex &lt;= 0 ? 10 : selectedIndex - 1\n\n    page.currentPage = selectedIndex\n\n    imageView.image = UIImage(named: &quot;\\(dataList[selectedIndex])&quot;)\n\n    imageView.layer.add(transition, forKey: &quot;right&quot;)\n\n}\n</code></pre><blockquote>\n<p>ä»å³å¾€å·¦æ»‘åŠ¨çš„å“åº”äº‹ä»¶</p>\n</blockquote>\n<pre><code>func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\n\n    //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\n\n    let transition = CATransition()\n\n    transition.type = kCATransitionPush\n\n    transition.subtype = kCATransitionFromRight\n\n    //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å³ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º0\n    selectedIndex = selectedIndex &gt;= 10 ? 0 : selectedIndex + 1\n\n    page.currentPage = selectedIndex\n\n    imageView.image = UIImage(named: &quot;\\(dataList[selectedIndex])&quot;)\n\n    imageView.layer.add(transition, forKey: &quot;left&quot;)\n\n}\n</code></pre><p>TouchesåŸºæœ¬åŒç†ï¼Œå†æ­¤ä¸ä¸€ä¸€èµ˜è¿°äº†</p>\n<hr>\n<blockquote>\n<p>æ€»ç»“</p>\n<ol>\n<li>ä½¿ç”¨UISwipeGestureRecognizeræ— éœ€è€ƒè™‘UIImageViewçš„å¤ç”¨é—®é¢˜ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªimaegView</li>\n<li>è½®æ’­å›¾åˆ†ä¸ºæ‰‹åŠ¨å’Œè‡ªåŠ¨ï¼Œæœ¬æ–‡ä¸ºæ‰‹åŠ¨æ§åˆ¶æ²¡æœ‰åŠ timerï¼Œå¦‚æœæ”¹ä¸ºè‡ªåŠ¨ï¼Œåªéœ€è¦åœ¨åœ¨å®šæ—¶è°ƒç”¨æ–¹æ³•å³å¯</li>\n<li>ä½¿ç”¨UISwipeGestureRecognizerå®ç°ï¼Œæ‰‹æŒ‡æ»‘åŠ¨ä¸€ç‚¹ç‚¹ï¼Œå†åˆ’å›æ¥ï¼Œè¿™ä¸ªæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹å¼ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨Touchesçš„ç›¸å…³æ–¹æ³•è§£å†³ï¼Œå› ä¸ºæ‰‹æŒ‡ç¦»å¼€æ‰å›å»è°ƒç”¨Endæ–¹æ³•</li>\n</ol>\n</blockquote>\n<hr>\n<blockquote>\n<p>å°å°¾å·´~~~</p>\n</blockquote>\n<p>ä¸ºä»€ä¹ˆå¾ˆå¤šäººä¸ç”¨è¿™ç§æ–¹æ³•ï¼Œåç­‰å„ä½å¤§ç¥å›å¤ï¼Œä¸ªäººè§‰å¾—æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå®Œå…¨å¯ä»¥ç²¾ä»¿</p>\n<blockquote>\n<p>demoåœ°å€<br><a href=\"https://github.com/pengshengsongcode/CycleImageView\" target=\"_blank\" rel=\"noopener\">github</a></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-93870e8644cd442d.gif?imageMogr2/auto-orient/strip\" alt=\"æ•ˆæœå›¾\"></p>\n<p>é¦–å…ˆæ„Ÿè°¢å³ä¾§é“¾æ¥ä»£ç ä¸­çš„å›¾ç‰‡ç´ æğŸ˜~<a href=\"http://www.code4app.com/forum.php?mod=viewthread&amp;tid=11742&amp;extra=page%3D1\" target=\"_blank\" rel=\"noopener\">å¤§ç¥ä½¿ç”¨UICollectionViewå®ç°çš„è½®æ’­å›¾</a></p>\n<p>æ®è¯´æ­¤ä¸‰æ–¹å¥½å¤šå¥½å¤šäººç”¨<a href=\"https://github.com/gsdios/SDCycleScrollView\" target=\"_blank\" rel=\"noopener\">å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ¡†æ¶SDCycleScrollView</a></p>\n<p>###è½®æ’­å›¾çš„å®ç°æ–¹å¼</p>\n<blockquote>\n<ol>\n<li>ä½¿ç”¨UIScrollViewé€šè¿‡contentSizeè®¾ç½®UIImageViewçš„å±•ç¤ºé¢„å¤„ç†</li>\n<li>ä½¿ç”¨UICollectionViewé€šè¿‡è®¾ç½®item</li>\n<li>ä½¿ç”¨UISwipeGestureRecognizeroræˆ–è€…TouchesBeganç­‰æ–¹æ³•</li>\n</ol>\n</blockquote>\n<p>ç½‘ç»œä¸Šå¤§éƒ¨åˆ†æ˜¯ä½¿ç”¨UIScrollViewé…åˆä¸‰ä¸ªæˆ–è€…ä¸¤ä¸ªUIImageViewæ¥å®ç°çš„è½®æ’­å›¾ï¼Œå°±å†æƒ³å¯ä¸å¯ä»¥ä½¿ç”¨ä¸€ä¸ªUIImgeViewå®ç°ï¼Œä»è€Œç¬¬ä¸‰ç§å®ç°æ–¹å¼ä¹Ÿå°±è¯ç”Ÿäº†ï¼Œè™½ç„¶ä¸æ˜¯ç‰¹åˆ«å®ç”¨ï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯ä¸€ç§ç®€å•æ€ç»´</p>\n<hr>\n<p>###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰é€»è¾‘</p>\n<blockquote>\n<ol>\n<li>é€šè¿‡UIImageViewæ·»åŠ å‘å·¦å‘å³çš„è½»æ‰«æ‰‹åŠ¿</li>\n<li>å½“è§¦å‘è½»æ‰«æ‰‹åŠ¿çš„å“åº”äº‹ä»¶æ—¶ï¼Œé‡æ–°è®¾ç½®Index</li>\n<li>ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»</li>\n<li>æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView</li>\n<li>èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿</li>\n</ol>\n</blockquote>\n<hr>\n<p>###TouchesBeganç­‰æ–¹æ³•çš„é€»è¾‘</p>\n<blockquote>\n<ol>\n<li>å†™ä¸€ä¸ªUIImageViewçš„å­ç±»ï¼Œå¹¶åœ¨å…¶ä¸­å®ç°Beganã€Moveã€Endæ–¹æ³•</li>\n<li>å’Œä½¿ç”¨UIBezierPathç»˜åˆ¶ç”»æ¿åŒç†ï¼Œé¦–å…ˆåœ¨Touchç­‰æ–¹æ³•ä¸­è·å–å¯¹åº”çš„ç‚¹</li>\n<li>æ ¹æ®ç‚¹çš„ä½ç½®æ”¹å˜æ¥åˆ¤æ–­å‘å·¦æ»‘è¿˜æ˜¯å‘å³æ»‘</li>\n<li>ä½¿ç”¨CATransitionçš„Typeï¼ˆPushï¼‰å’ŒSubTypeï¼ˆLeft/Rightï¼‰æ¥è¿›è¡Œå®ç°å¯¹åº”çš„å‘å·¦å‘å³çš„è½¬åœºåŠ¨ç”»</li>\n<li>æ›´æ”¹å®ŒIndexæ—¶ï¼Œåœ¨CATransitionåŠ¨ç”»ä¸­ä»imgæ•°ç»„ä¸­å–å‡ºå¯¹åº”å›¾ç‰‡å¹¶èµ‹å€¼ç»™UIImageView</li>\n<li>èµ‹å€¼å›¾ç‰‡çš„åŒæ—¶æ›´æ”¹pageControlçš„currentPageæ¥å®ç°è½®æ’­å›¾çš„ç²¾ä»¿</li>\n</ol>\n</blockquote>\n<hr>\n<blockquote>\n<p>ä¸»è¦ä»¥UISwipeGestureRecognizerorä¸ºä¾‹å­ğŸŒ°</p>\n</blockquote>\n<p>###UISwipeGestureRecognizerorï¼ˆæ¸…æ‰«æ‰‹åŠ¿ï¼‰ç›¸å…³ä»£ç </p>\n<blockquote>\n<p>ä¸€äº›æ‡’åŠ è½½ï¼Œæ³¨é‡Šå·²ç»æ ‡æ˜æ¸…æ¥š</p>\n</blockquote>\n<pre><code>var selectedIndex = 0//å½“å‰å›¾ç‰‡\n\nlazy var imageView: UIImageView = {//å±•ç¤ºimage\n    let imageview = UIImageView()\n    imageview.image = UIImage(named: &quot;\\(self.selectedIndex)&quot;)\n    return imageview\n}()\n\nlazy var swipeRight: UISwipeGestureRecognizer = {//ä»å·¦å¾€å³æ»‘æ‰‹åŠ¿\n    let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapRightAction))\n    swipe.direction = .right\n\n    return swipe\n}()\n\nlazy var swipeLeft: UISwipeGestureRecognizer = {//ä»å³å¾€å·¦æ»‘æ‰‹åŠ¿\n    let swipe = UISwipeGestureRecognizer(target: self, action: #selector(tapLeftAction))\n\n    swipe.direction = .left\n    return swipe\n}()\n\nlazy var page: UIPageControl = {\n\n    let page = UIPageControl()\n\n    page.numberOfPages = self.dataList.count\n\n    page.currentPage = self.selectedIndex\n\n    page.pageIndicatorTintColor = UIColor.green\n\n    page.currentPageIndicatorTintColor = UIColor.red\n\n    return page\n}()\n\nlazy var dataList: Array&lt;String&gt; = {//imageæ•°æ®æº\n\n    var arr: Array&lt;String&gt; = []\n\n    for i in 0...10 {\n        arr.append(&quot;\\(i)&quot;)\n    }\n\n    return arr\n}()\n</code></pre><blockquote>\n<p>viewDidLoad</p>\n</blockquote>\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    imageView.frame = CGRect(x: 0, y: 0, width: screen_width, height: screen_height)\n\n    //é‡è¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ç»™imageViewæ·»åŠ æ‰‹åŠ¿éœ€è¦å°†isUserInteractionEnabledè®¾ç½®ä¸ºtrue\n    imageView.isUserInteractionEnabled = true\n\n    //æ·»åŠ å‘å·¦æ‰‹åŠ¿\n    imageView.addGestureRecognizer(swipeLeft)\n\n    //æ·»åŠ å‘å³æ‰‹åŠ¿\n    imageView.addGestureRecognizer(swipeRight)\n\n    //è·å–pageçš„size\n    let pageSize = page.size(forNumberOfPages: dataList.count)\n\n    page.frame = CGRect(x: 0, y: imageView.frame.maxY - pageSize.height, width: pageSize.width, height: pageSize.height)\n\n    page.center.x = imageView.frame.width / 2\n\n    view.addSubview(imageView)\n\n    view.addSubview(page)\n\n}\n</code></pre><blockquote>\n<p>ä»å·¦å¾€å³æ»‘åŠ¨çš„å“åº”äº‹ä»¶</p>\n</blockquote>\n<pre><code>func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\n\n    //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\n\n    let transition = CATransition()\n\n    transition.type = kCATransitionPush\n\n    transition.subtype = kCATransitionFromLeft\n\n    //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å·¦ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º10\n    selectedIndex = selectedIndex &lt;= 0 ? 10 : selectedIndex - 1\n\n    page.currentPage = selectedIndex\n\n    imageView.image = UIImage(named: &quot;\\(dataList[selectedIndex])&quot;)\n\n    imageView.layer.add(transition, forKey: &quot;right&quot;)\n\n}\n</code></pre><blockquote>\n<p>ä»å³å¾€å·¦æ»‘åŠ¨çš„å“åº”äº‹ä»¶</p>\n</blockquote>\n<pre><code>func tapRightAction() {//ä»å·¦å¾€å³æ»‘åŠ¨\n\n    //ä½¿ç”¨CAè½¬åœºåŠ¨ç”»æ¥æ”¹å˜æ–¹å¼\n\n    let transition = CATransition()\n\n    transition.type = kCATransitionPush\n\n    transition.subtype = kCATransitionFromRight\n\n    //è¿™å¥è¯ä¹Ÿå°±æ˜¯æœ€é‡è¦çš„ï¼Œæ ¹æ®selectedIndexçš„å€¼æ¥ç¡®å®šæ˜¯å¦å·²ç»åˆ°æœ€å·¦ä¾§ï¼Œå¦‚æœåˆ°æœ€å³ä¾§ï¼Œå°†selectedIndexé‡ç½®ä¸º0\n    selectedIndex = selectedIndex &gt;= 10 ? 0 : selectedIndex + 1\n\n    page.currentPage = selectedIndex\n\n    imageView.image = UIImage(named: &quot;\\(dataList[selectedIndex])&quot;)\n\n    imageView.layer.add(transition, forKey: &quot;left&quot;)\n\n}\n</code></pre><p>TouchesåŸºæœ¬åŒç†ï¼Œå†æ­¤ä¸ä¸€ä¸€èµ˜è¿°äº†</p>\n<hr>\n<blockquote>\n<p>æ€»ç»“</p>\n<ol>\n<li>ä½¿ç”¨UISwipeGestureRecognizeræ— éœ€è€ƒè™‘UIImageViewçš„å¤ç”¨é—®é¢˜ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªimaegView</li>\n<li>è½®æ’­å›¾åˆ†ä¸ºæ‰‹åŠ¨å’Œè‡ªåŠ¨ï¼Œæœ¬æ–‡ä¸ºæ‰‹åŠ¨æ§åˆ¶æ²¡æœ‰åŠ timerï¼Œå¦‚æœæ”¹ä¸ºè‡ªåŠ¨ï¼Œåªéœ€è¦åœ¨åœ¨å®šæ—¶è°ƒç”¨æ–¹æ³•å³å¯</li>\n<li>ä½¿ç”¨UISwipeGestureRecognizerå®ç°ï¼Œæ‰‹æŒ‡æ»‘åŠ¨ä¸€ç‚¹ç‚¹ï¼Œå†åˆ’å›æ¥ï¼Œè¿™ä¸ªæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹å¼ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨Touchesçš„ç›¸å…³æ–¹æ³•è§£å†³ï¼Œå› ä¸ºæ‰‹æŒ‡ç¦»å¼€æ‰å›å»è°ƒç”¨Endæ–¹æ³•</li>\n</ol>\n</blockquote>\n<hr>\n<blockquote>\n<p>å°å°¾å·´~~~</p>\n</blockquote>\n<p>ä¸ºä»€ä¹ˆå¾ˆå¤šäººä¸ç”¨è¿™ç§æ–¹æ³•ï¼Œåç­‰å„ä½å¤§ç¥å›å¤ï¼Œä¸ªäººè§‰å¾—æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå®Œå…¨å¯ä»¥ç²¾ä»¿</p>\n<blockquote>\n<p>demoåœ°å€<br><a href=\"https://github.com/pengshengsongcode/CycleImageView\" target=\"_blank\" rel=\"noopener\">github</a></p>\n</blockquote>\n"},{"title":"è‹¹æœæ‰‹æœºé“ƒå£°è®¾ç½®ï¼ˆéè¶Šç‹±ã€æ— éœ€ä¸‹è½½è½¯ä»¶2017æœ€æ–°ç‰ˆæœ¬ï¼‰","date":"2017-11-15T14:53:16.000Z","_content":"\næœ¬æ–‡ä¸­æåˆ°çš„æ–¹å¼ï¼Œæš‚æ—¶åªæ”¯æŒå·²æœ‰æ­Œæ›²ï¼Œå¦‚æœè§‰å¾—éº»çƒ¦ï¼Œæ–‡ç« ç»“å°¾æœ‰å¼„å®Œçš„.m4ræ–‡ä»¶ï¼Œä¸‹è½½ä¸‹æ¥ç›´æ¥èµ°ç¬¬å…­æ­¥å³å¯\n\n1ã€æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ã€æ‰¾åˆ°ä½ æƒ³ä½œä¸ºæ‰‹æœºé“ƒå£°çš„æ­Œæ›²ï¼Œå¹¶ä¸‹è½½è‡³æ¡Œé¢\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.52.15.png](http://upload-images.jianshu.io/upload_images/1505288-d4c0bff872b4545d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n2ã€æ‰“å¼€QuickTime Player,å¹¶å°†ä¸‹è½½çš„æ­Œæ›²æ–‡ä»¶æ‹–æ‹½è¿›å»\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.54.20.png](http://upload-images.jianshu.io/upload_images/1505288-71bdb551b600488b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n3ã€ç‚¹å‡»navä¸Šçš„ç¼–è¾‘ - ä¿®å»ºï¼Œè¿›è¡Œå¯¹éŸ³ä¹çš„æˆªå–ï¼ˆæ§åˆ¶åœ¨40Sä¸‹ï¼‰\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.56.16.png](http://upload-images.jianshu.io/upload_images/1505288-579015eb6b3c41e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n4ã€å°†æˆªå–çš„éŸ³ä¹å¯¼å‡ºè‡³æ¡Œé¢\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.57.29.png](http://upload-images.jianshu.io/upload_images/1505288-6214dde13080cd59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n5ã€å¹¶å°†æ–‡ä»¶åç¼€æ·»åŠ \".m4r\"å­—æ ·ï¼Œå¹¶é€‰æ‹© ä½¿ç”¨m4r\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.51.png](http://upload-images.jianshu.io/upload_images/1505288-2cac7bae3c71debb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n[å›¾ç‰‡ä¸Šä¼ ä¸­...(å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png-b7332f-1510639448164-0)]\n\n6ã€æ‰“å¼€ç”µè„‘iTuneså¹¶é“¾æ¥è‡ªå·±æ‰‹æœºï¼Œå°†.m4ræ–‡ä»¶æ‹‰è¿›å¦‚å›¾æ‰€ç¤ºçš„ç•Œé¢\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png](http://upload-images.jianshu.io/upload_images/1505288-cdc4f458362eda4c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n7ã€ä½¿ç”¨æ‰‹æœºæ‰“å¼€è®¾ç½® - å£°éŸ³ - é“ƒå£°å’Œéœ‡åŠ¨ - ç”µè¯é“ƒå£°ï¼Œé€‰æ‹©è‡ªå®šä¹‰çš„é“ƒå£°å°±OKäº†\n\n![lADPBbCc1SD0_U_NBTbNAu4_750_1334.jpg_620x10000q90g.jpg](http://upload-images.jianshu.io/upload_images/1505288-28563e3d8834eba3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200)\n\n \n![lALPBbCc1SD0_VLNBTbNAu4_750_1334.png_620x10000q90g.jpg](http://upload-images.jianshu.io/upload_images/1505288-24e55709c1aaaae7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200)\n\næ ·ä¾‹æ–‡ä»¶ï¼š https://github.com/pengshengsongcode/DiyRingTone.git\n","source":"_posts/è‹¹æœæ‰‹æœºé“ƒå£°è®¾ç½®ï¼ˆéè¶Šç‹±ã€æ— éœ€ä¸‹è½½è½¯ä»¶2017æœ€æ–°ç‰ˆæœ¬ï¼‰.md","raw":"---\ntitle: è‹¹æœæ‰‹æœºé“ƒå£°è®¾ç½®ï¼ˆéè¶Šç‹±ã€æ— éœ€ä¸‹è½½è½¯ä»¶2017æœ€æ–°ç‰ˆæœ¬ï¼‰\ndate: 2017-11-15 22:53:16\ntags:\n---\n\næœ¬æ–‡ä¸­æåˆ°çš„æ–¹å¼ï¼Œæš‚æ—¶åªæ”¯æŒå·²æœ‰æ­Œæ›²ï¼Œå¦‚æœè§‰å¾—éº»çƒ¦ï¼Œæ–‡ç« ç»“å°¾æœ‰å¼„å®Œçš„.m4ræ–‡ä»¶ï¼Œä¸‹è½½ä¸‹æ¥ç›´æ¥èµ°ç¬¬å…­æ­¥å³å¯\n\n1ã€æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ã€æ‰¾åˆ°ä½ æƒ³ä½œä¸ºæ‰‹æœºé“ƒå£°çš„æ­Œæ›²ï¼Œå¹¶ä¸‹è½½è‡³æ¡Œé¢\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.52.15.png](http://upload-images.jianshu.io/upload_images/1505288-d4c0bff872b4545d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n2ã€æ‰“å¼€QuickTime Player,å¹¶å°†ä¸‹è½½çš„æ­Œæ›²æ–‡ä»¶æ‹–æ‹½è¿›å»\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.54.20.png](http://upload-images.jianshu.io/upload_images/1505288-71bdb551b600488b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n3ã€ç‚¹å‡»navä¸Šçš„ç¼–è¾‘ - ä¿®å»ºï¼Œè¿›è¡Œå¯¹éŸ³ä¹çš„æˆªå–ï¼ˆæ§åˆ¶åœ¨40Sä¸‹ï¼‰\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.56.16.png](http://upload-images.jianshu.io/upload_images/1505288-579015eb6b3c41e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n4ã€å°†æˆªå–çš„éŸ³ä¹å¯¼å‡ºè‡³æ¡Œé¢\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.57.29.png](http://upload-images.jianshu.io/upload_images/1505288-6214dde13080cd59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n5ã€å¹¶å°†æ–‡ä»¶åç¼€æ·»åŠ \".m4r\"å­—æ ·ï¼Œå¹¶é€‰æ‹© ä½¿ç”¨m4r\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.51.png](http://upload-images.jianshu.io/upload_images/1505288-2cac7bae3c71debb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n[å›¾ç‰‡ä¸Šä¼ ä¸­...(å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png-b7332f-1510639448164-0)]\n\n6ã€æ‰“å¼€ç”µè„‘iTuneså¹¶é“¾æ¥è‡ªå·±æ‰‹æœºï¼Œå°†.m4ræ–‡ä»¶æ‹‰è¿›å¦‚å›¾æ‰€ç¤ºçš„ç•Œé¢\n\n![å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png](http://upload-images.jianshu.io/upload_images/1505288-cdc4f458362eda4c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n7ã€ä½¿ç”¨æ‰‹æœºæ‰“å¼€è®¾ç½® - å£°éŸ³ - é“ƒå£°å’Œéœ‡åŠ¨ - ç”µè¯é“ƒå£°ï¼Œé€‰æ‹©è‡ªå®šä¹‰çš„é“ƒå£°å°±OKäº†\n\n![lADPBbCc1SD0_U_NBTbNAu4_750_1334.jpg_620x10000q90g.jpg](http://upload-images.jianshu.io/upload_images/1505288-28563e3d8834eba3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200)\n\n \n![lALPBbCc1SD0_VLNBTbNAu4_750_1334.png_620x10000q90g.jpg](http://upload-images.jianshu.io/upload_images/1505288-24e55709c1aaaae7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200)\n\næ ·ä¾‹æ–‡ä»¶ï¼š https://github.com/pengshengsongcode/DiyRingTone.git\n","slug":"è‹¹æœæ‰‹æœºé“ƒå£°è®¾ç½®ï¼ˆéè¶Šç‹±ã€æ— éœ€ä¸‹è½½è½¯ä»¶2017æœ€æ–°ç‰ˆæœ¬ï¼‰","published":1,"updated":"2017-11-15T14:54:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cja1vphkj0002p9fy5v54nntq","content":"<p>æœ¬æ–‡ä¸­æåˆ°çš„æ–¹å¼ï¼Œæš‚æ—¶åªæ”¯æŒå·²æœ‰æ­Œæ›²ï¼Œå¦‚æœè§‰å¾—éº»çƒ¦ï¼Œæ–‡ç« ç»“å°¾æœ‰å¼„å®Œçš„.m4ræ–‡ä»¶ï¼Œä¸‹è½½ä¸‹æ¥ç›´æ¥èµ°ç¬¬å…­æ­¥å³å¯</p>\n<p>1ã€æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ã€æ‰¾åˆ°ä½ æƒ³ä½œä¸ºæ‰‹æœºé“ƒå£°çš„æ­Œæ›²ï¼Œå¹¶ä¸‹è½½è‡³æ¡Œé¢</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-d4c0bff872b4545d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.52.15.png\"></p>\n<p>2ã€æ‰“å¼€QuickTime Player,å¹¶å°†ä¸‹è½½çš„æ­Œæ›²æ–‡ä»¶æ‹–æ‹½è¿›å»</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-71bdb551b600488b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.54.20.png\"></p>\n<p>3ã€ç‚¹å‡»navä¸Šçš„ç¼–è¾‘ - ä¿®å»ºï¼Œè¿›è¡Œå¯¹éŸ³ä¹çš„æˆªå–ï¼ˆæ§åˆ¶åœ¨40Sä¸‹ï¼‰</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-579015eb6b3c41e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.56.16.png\"></p>\n<p>4ã€å°†æˆªå–çš„éŸ³ä¹å¯¼å‡ºè‡³æ¡Œé¢</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-6214dde13080cd59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.57.29.png\"></p>\n<p>5ã€å¹¶å°†æ–‡ä»¶åç¼€æ·»åŠ â€.m4râ€å­—æ ·ï¼Œå¹¶é€‰æ‹© ä½¿ç”¨m4r</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-2cac7bae3c71debb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.51.png\"><br>[å›¾ç‰‡ä¸Šä¼ ä¸­â€¦(å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png-b7332f-1510639448164-0)]</p>\n<p>6ã€æ‰“å¼€ç”µè„‘iTuneså¹¶é“¾æ¥è‡ªå·±æ‰‹æœºï¼Œå°†.m4ræ–‡ä»¶æ‹‰è¿›å¦‚å›¾æ‰€ç¤ºçš„ç•Œé¢</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-cdc4f458362eda4c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png\"></p>\n<p>7ã€ä½¿ç”¨æ‰‹æœºæ‰“å¼€è®¾ç½® - å£°éŸ³ - é“ƒå£°å’Œéœ‡åŠ¨ - ç”µè¯é“ƒå£°ï¼Œé€‰æ‹©è‡ªå®šä¹‰çš„é“ƒå£°å°±OKäº†</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-28563e3d8834eba3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200\" alt=\"lADPBbCc1SD0_U_NBTbNAu4_750_1334.jpg_620x10000q90g.jpg\"></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-24e55709c1aaaae7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200\" alt=\"lALPBbCc1SD0_VLNBTbNAu4_750_1334.png_620x10000q90g.jpg\"></p>\n<p>æ ·ä¾‹æ–‡ä»¶ï¼š <a href=\"https://github.com/pengshengsongcode/DiyRingTone.git\" target=\"_blank\" rel=\"noopener\">https://github.com/pengshengsongcode/DiyRingTone.git</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>æœ¬æ–‡ä¸­æåˆ°çš„æ–¹å¼ï¼Œæš‚æ—¶åªæ”¯æŒå·²æœ‰æ­Œæ›²ï¼Œå¦‚æœè§‰å¾—éº»çƒ¦ï¼Œæ–‡ç« ç»“å°¾æœ‰å¼„å®Œçš„.m4ræ–‡ä»¶ï¼Œä¸‹è½½ä¸‹æ¥ç›´æ¥èµ°ç¬¬å…­æ­¥å³å¯</p>\n<p>1ã€æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ã€æ‰¾åˆ°ä½ æƒ³ä½œä¸ºæ‰‹æœºé“ƒå£°çš„æ­Œæ›²ï¼Œå¹¶ä¸‹è½½è‡³æ¡Œé¢</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-d4c0bff872b4545d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.52.15.png\"></p>\n<p>2ã€æ‰“å¼€QuickTime Player,å¹¶å°†ä¸‹è½½çš„æ­Œæ›²æ–‡ä»¶æ‹–æ‹½è¿›å»</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-71bdb551b600488b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.54.20.png\"></p>\n<p>3ã€ç‚¹å‡»navä¸Šçš„ç¼–è¾‘ - ä¿®å»ºï¼Œè¿›è¡Œå¯¹éŸ³ä¹çš„æˆªå–ï¼ˆæ§åˆ¶åœ¨40Sä¸‹ï¼‰</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-579015eb6b3c41e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.56.16.png\"></p>\n<p>4ã€å°†æˆªå–çš„éŸ³ä¹å¯¼å‡ºè‡³æ¡Œé¢</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-6214dde13080cd59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ1.57.29.png\"></p>\n<p>5ã€å¹¶å°†æ–‡ä»¶åç¼€æ·»åŠ â€.m4râ€å­—æ ·ï¼Œå¹¶é€‰æ‹© ä½¿ç”¨m4r</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-2cac7bae3c71debb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.51.png\"><br>[å›¾ç‰‡ä¸Šä¼ ä¸­â€¦(å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png-b7332f-1510639448164-0)]</p>\n<p>6ã€æ‰“å¼€ç”µè„‘iTuneså¹¶é“¾æ¥è‡ªå·±æ‰‹æœºï¼Œå°†.m4ræ–‡ä»¶æ‹‰è¿›å¦‚å›¾æ‰€ç¤ºçš„ç•Œé¢</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-cdc4f458362eda4c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"å±å¹•å¿«ç…§ 2017-11-14 ä¸‹åˆ2.02.19.png\"></p>\n<p>7ã€ä½¿ç”¨æ‰‹æœºæ‰“å¼€è®¾ç½® - å£°éŸ³ - é“ƒå£°å’Œéœ‡åŠ¨ - ç”µè¯é“ƒå£°ï¼Œé€‰æ‹©è‡ªå®šä¹‰çš„é“ƒå£°å°±OKäº†</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-28563e3d8834eba3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200\" alt=\"lADPBbCc1SD0_U_NBTbNAu4_750_1334.jpg_620x10000q90g.jpg\"></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-24e55709c1aaaae7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/200\" alt=\"lALPBbCc1SD0_VLNBTbNAu4_750_1334.png_620x10000q90g.jpg\"></p>\n<p>æ ·ä¾‹æ–‡ä»¶ï¼š <a href=\"https://github.com/pengshengsongcode/DiyRingTone.git\" target=\"_blank\" rel=\"noopener\">https://github.com/pengshengsongcode/DiyRingTone.git</a></p>\n"},{"title":"CocoaPodsæœ€æ–°é•œåƒå®‰è£…æ–¹å¼å’Œå¸¸ç”¨ç›¸å…³å‘½ä»¤ï¼ˆå¸è½½ï¼Œé™çº§ï¼‰","date":"2017-11-15T15:04:43.000Z","_content":"###å®‰è£…é¡ºåº\n> 1ã€å®‰è£…brewï¼Œå®‰è£…é“¾æ¥å¦‚è‹¥æ›´æ–°ï¼Œè¯·ç‚¹å‡»[æ­¤é“¾æ¥](http://brew.sh)æŸ¥çœ‹\n```\n$ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" \n```\n***\n> 2ã€å®‰è£…Ruby\n```\n$ brew install ruby\n```\n***\n> 3ã€å®‰è£…CocoaPods\n  1.  ç§»é™¤ç°æœ‰ Ruby é»˜è®¤æº\n```\n$ gem sources --remove https://rubygems.org/\n```\n  2. ä½¿ç”¨æ–°çš„é•œåƒæºï¼ˆéç½‘ç»œä¸Šçš„Taobaoæºï¼‰\n```\nÂ $ gem sources -a https://gems.ruby-china.org/\n```\n  3.  éªŒè¯æ˜¯å¦æˆåŠŸ\n```\n$ gem sources -l\n```\n  4. å®‰è£…CocoaPods\n```\n$ sudo gem install cocoapods\n$ pod setup\n```\n\n\n![ç­‰å¾…ä¸­](http://upload-images.jianshu.io/upload_images/1505288-d60693d4056982e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n---\n\n###ç›‘æµ‹ä¸‹è½½è¿›åº¦\n\n>1ã€è·³è½¬æŒ‡å®šæ–‡ä»¶å¤¹\n```\n$ cd ~/.cocoapods   \n```\n2ã€ç›‘æµ‹ç½‘ç»œä¸‹è½½è¿›åº¦\n```\n$ du -sh *\n```\n\n![ç›‘æµ‹ç•Œé¢](http://upload-images.jianshu.io/upload_images/1505288-47ff3ae7ec8ccfdf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\npsï¼š å†æ‰§è¡Œå®‰è£…CocoaPodsæ—¶ æ‰§è¡Œ``` $ pod setup```éœ€è¦ç­‰å¾…å¤§çº¦åŠä¸ªå¤šå°æ—¶æ—¶é—´ï¼Œæœ‰æ—¶ç­‰å¾…äº†ä¹Ÿä¼šæŠ¥é”™ï¼Œæ­¤å¤„å¯ä»¥å·é¸¡\n***\n###å·é¸¡æ•™å­¦\n\n> 1ã€[ç‚¹å‡»æ­¤å¤„ä¸‹è½½æ–‡ä»¶](http://pan.baidu.com/s/1hsr24uS)```æå–å¯†ç ä¸º52r5 ```ä¸‹è½½Reposæ–‡ä»¶å¹¶è§£å‹\n\n> 2ã€æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ ```open ~/.cocoapods```\n\n> 3ã€å°†è§£å‹æ–‡ä»¶æ›¿æ¢æ–‡ä»¶å¤¹Repos\n\n> 4ã€å†æ¬¡æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ```pod search afn```\n> \n> 5ã€å¦‚æœå‡ºç°ä¸‹å›¾ä¸ºå®‰è£…å®Œæˆ\n\n\n![æˆåŠŸç•Œé¢](http://upload-images.jianshu.io/upload_images/1505288-751aad7106fdcc8f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n> æŸ¥çœ‹CocoaPodsç‰ˆæœ¬\n```\n$ pod --version\n```\n\n###å¸è½½CocoaPods\n> 1. æŸ¥çœ‹CocoaPodsè·¯å¾„\n```\n$ which pod\n```\n> 2. æŸ¥çœ‹CocoaPodsä½ç½®\n```\n$ sudo rm -rf è·¯å¾„Â \n```\n> 3. æŸ¥çœ‹CocoaPodsç‰ˆæœ¬ï¼ˆ```-bash: /usr/local/bin/pod: No such file or directory```å³åˆ é™¤æˆåŠŸï¼‰\n```\n$ pod --version\n```\n> 4. æ‰“å°gem ä¸‹çš„æ‰€æœ‰åŒ…æŸ¥çœ‹cocoapodsç‰ˆæœ¬å·\n```\n$ gem list\n```\n> 5. ç§»é™¤ç¨‹åºåŒ…(å¦‚æœè¦åˆ é™¤ä¾èµ–åŒ…åªéœ€è¦æ›´æ”¹â€œcocoapodsâ€å³å¯)\n```\n$ sudo gem uninstall cocoapods -v ç‰ˆæœ¬å·\n```\n> 6. åˆ é™¤reposåŒ…ï¼ˆå¤§çº¦300+Mï¼‰\n```\n$ rmdir ~/.cocoapods\n```\n\n###å¤šç‰ˆæœ¬å…±å­˜ä¸ä½¿ç”¨\n> 1. å®‰è£…æŒ‡å®šç‰ˆæœ¬Cocoapods\n```\n$ sudo gem install cocoapods -v 0.35.0\n```\n> 2. ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬Cocoapods\n ```\n$ pod _0.35.0_ install,    pod _0.38.2_ install\n```","source":"_posts/CocoaPodsæœ€æ–°é•œåƒå®‰è£…æ–¹å¼å’Œå¸¸ç”¨ç›¸å…³å‘½ä»¤ï¼ˆå¸è½½ï¼Œé™çº§ï¼‰.md","raw":"---\ntitle: CocoaPodsæœ€æ–°é•œåƒå®‰è£…æ–¹å¼å’Œå¸¸ç”¨ç›¸å…³å‘½ä»¤ï¼ˆå¸è½½ï¼Œé™çº§ï¼‰\ndate: 2017-11-15 23:04:43\ntags:\n---\n###å®‰è£…é¡ºåº\n> 1ã€å®‰è£…brewï¼Œå®‰è£…é“¾æ¥å¦‚è‹¥æ›´æ–°ï¼Œè¯·ç‚¹å‡»[æ­¤é“¾æ¥](http://brew.sh)æŸ¥çœ‹\n```\n$ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" \n```\n***\n> 2ã€å®‰è£…Ruby\n```\n$ brew install ruby\n```\n***\n> 3ã€å®‰è£…CocoaPods\n  1.  ç§»é™¤ç°æœ‰ Ruby é»˜è®¤æº\n```\n$ gem sources --remove https://rubygems.org/\n```\n  2. ä½¿ç”¨æ–°çš„é•œåƒæºï¼ˆéç½‘ç»œä¸Šçš„Taobaoæºï¼‰\n```\nÂ $ gem sources -a https://gems.ruby-china.org/\n```\n  3.  éªŒè¯æ˜¯å¦æˆåŠŸ\n```\n$ gem sources -l\n```\n  4. å®‰è£…CocoaPods\n```\n$ sudo gem install cocoapods\n$ pod setup\n```\n\n\n![ç­‰å¾…ä¸­](http://upload-images.jianshu.io/upload_images/1505288-d60693d4056982e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n---\n\n###ç›‘æµ‹ä¸‹è½½è¿›åº¦\n\n>1ã€è·³è½¬æŒ‡å®šæ–‡ä»¶å¤¹\n```\n$ cd ~/.cocoapods   \n```\n2ã€ç›‘æµ‹ç½‘ç»œä¸‹è½½è¿›åº¦\n```\n$ du -sh *\n```\n\n![ç›‘æµ‹ç•Œé¢](http://upload-images.jianshu.io/upload_images/1505288-47ff3ae7ec8ccfdf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\npsï¼š å†æ‰§è¡Œå®‰è£…CocoaPodsæ—¶ æ‰§è¡Œ``` $ pod setup```éœ€è¦ç­‰å¾…å¤§çº¦åŠä¸ªå¤šå°æ—¶æ—¶é—´ï¼Œæœ‰æ—¶ç­‰å¾…äº†ä¹Ÿä¼šæŠ¥é”™ï¼Œæ­¤å¤„å¯ä»¥å·é¸¡\n***\n###å·é¸¡æ•™å­¦\n\n> 1ã€[ç‚¹å‡»æ­¤å¤„ä¸‹è½½æ–‡ä»¶](http://pan.baidu.com/s/1hsr24uS)```æå–å¯†ç ä¸º52r5 ```ä¸‹è½½Reposæ–‡ä»¶å¹¶è§£å‹\n\n> 2ã€æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ ```open ~/.cocoapods```\n\n> 3ã€å°†è§£å‹æ–‡ä»¶æ›¿æ¢æ–‡ä»¶å¤¹Repos\n\n> 4ã€å†æ¬¡æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ```pod search afn```\n> \n> 5ã€å¦‚æœå‡ºç°ä¸‹å›¾ä¸ºå®‰è£…å®Œæˆ\n\n\n![æˆåŠŸç•Œé¢](http://upload-images.jianshu.io/upload_images/1505288-751aad7106fdcc8f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n> æŸ¥çœ‹CocoaPodsç‰ˆæœ¬\n```\n$ pod --version\n```\n\n###å¸è½½CocoaPods\n> 1. æŸ¥çœ‹CocoaPodsè·¯å¾„\n```\n$ which pod\n```\n> 2. æŸ¥çœ‹CocoaPodsä½ç½®\n```\n$ sudo rm -rf è·¯å¾„Â \n```\n> 3. æŸ¥çœ‹CocoaPodsç‰ˆæœ¬ï¼ˆ```-bash: /usr/local/bin/pod: No such file or directory```å³åˆ é™¤æˆåŠŸï¼‰\n```\n$ pod --version\n```\n> 4. æ‰“å°gem ä¸‹çš„æ‰€æœ‰åŒ…æŸ¥çœ‹cocoapodsç‰ˆæœ¬å·\n```\n$ gem list\n```\n> 5. ç§»é™¤ç¨‹åºåŒ…(å¦‚æœè¦åˆ é™¤ä¾èµ–åŒ…åªéœ€è¦æ›´æ”¹â€œcocoapodsâ€å³å¯)\n```\n$ sudo gem uninstall cocoapods -v ç‰ˆæœ¬å·\n```\n> 6. åˆ é™¤reposåŒ…ï¼ˆå¤§çº¦300+Mï¼‰\n```\n$ rmdir ~/.cocoapods\n```\n\n###å¤šç‰ˆæœ¬å…±å­˜ä¸ä½¿ç”¨\n> 1. å®‰è£…æŒ‡å®šç‰ˆæœ¬Cocoapods\n```\n$ sudo gem install cocoapods -v 0.35.0\n```\n> 2. ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬Cocoapods\n ```\n$ pod _0.35.0_ install,    pod _0.38.2_ install\n```","slug":"CocoaPodsæœ€æ–°é•œåƒå®‰è£…æ–¹å¼å’Œå¸¸ç”¨ç›¸å…³å‘½ä»¤ï¼ˆå¸è½½ï¼Œé™çº§ï¼‰","published":1,"updated":"2017-11-15T15:06:06.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cja1vphkm0003p9fy6n23wej3","content":"<p>###å®‰è£…é¡ºåº</p>\n<blockquote>\n<p>1ã€å®‰è£…brewï¼Œå®‰è£…é“¾æ¥å¦‚è‹¥æ›´æ–°ï¼Œè¯·ç‚¹å‡»<a href=\"http://brew.sh\" target=\"_blank\" rel=\"noopener\">æ­¤é“¾æ¥</a>æŸ¥çœ‹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<hr>\n<blockquote>\n<p>2ã€å®‰è£…Ruby<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ brew install ruby</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<hr>\n<blockquote>\n<p>3ã€å®‰è£…CocoaPods</p>\n<ol>\n<li>ç§»é™¤ç°æœ‰ Ruby é»˜è®¤æº<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gem sources --remove https://rubygems.org/</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</blockquote>\n<ol>\n<li><p>ä½¿ç”¨æ–°çš„é•œåƒæºï¼ˆéç½‘ç»œä¸Šçš„Taobaoæºï¼‰</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Â $ gem sources -a https://gems.ruby-china.org/</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>éªŒè¯æ˜¯å¦æˆåŠŸ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gem sources -l</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…CocoaPods</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo gem install cocoapods</span><br><span class=\"line\">$ pod setup</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-d60693d4056982e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"ç­‰å¾…ä¸­\"></p>\n<hr>\n<p>###ç›‘æµ‹ä¸‹è½½è¿›åº¦</p>\n<blockquote>\n<p>1ã€è·³è½¬æŒ‡å®šæ–‡ä»¶å¤¹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cd ~/.cocoapods</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>2ã€ç›‘æµ‹ç½‘ç»œä¸‹è½½è¿›åº¦<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ du -sh *</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-47ff3ae7ec8ccfdf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"ç›‘æµ‹ç•Œé¢\"></p>\n<p>psï¼š å†æ‰§è¡Œå®‰è£…CocoaPodsæ—¶ æ‰§è¡Œ<figure class=\"highlight plain\"><figcaption><span>pod setup```éœ€è¦ç­‰å¾…å¤§çº¦åŠä¸ªå¤šå°æ—¶æ—¶é—´ï¼Œæœ‰æ—¶ç­‰å¾…äº†ä¹Ÿä¼šæŠ¥é”™ï¼Œæ­¤å¤„å¯ä»¥å·é¸¡</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">***</span><br><span class=\"line\">###å·é¸¡æ•™å­¦</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; 1ã€[ç‚¹å‡»æ­¤å¤„ä¸‹è½½æ–‡ä»¶](http://pan.baidu.com/s/1hsr24uS)```æå–å¯†ç ä¸º52r5 ```ä¸‹è½½Reposæ–‡ä»¶å¹¶è§£å‹</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; 2ã€æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ ```open ~/.cocoapods</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>3ã€å°†è§£å‹æ–‡ä»¶æ›¿æ¢æ–‡ä»¶å¤¹Repos</p>\n<p>4ã€å†æ¬¡æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ<figure class=\"highlight plain\"><figcaption><span>search afn```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; </span><br><span class=\"line\">&gt; 5ã€å¦‚æœå‡ºç°ä¸‹å›¾ä¸ºå®‰è£…å®Œæˆ</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">![æˆåŠŸç•Œé¢](http://upload-images.jianshu.io/upload_images/1505288-751aad7106fdcc8f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; æŸ¥çœ‹CocoaPodsç‰ˆæœ¬</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>$ pod â€“version<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">###å¸è½½CocoaPods</span><br><span class=\"line\">&gt; 1. æŸ¥çœ‹CocoaPodsè·¯å¾„</span><br></pre></td></tr></table></figure></p>\n<p>$ which pod<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 2. æŸ¥çœ‹CocoaPodsä½ç½®</span><br></pre></td></tr></table></figure></p>\n<p>$ sudo rm -rf è·¯å¾„<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 3. æŸ¥çœ‹CocoaPodsç‰ˆæœ¬ï¼ˆ```-bash: /usr/local/bin/pod: No such file or directory```å³åˆ é™¤æˆåŠŸï¼‰</span><br></pre></td></tr></table></figure></p>\n<p>$ pod â€“version<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 4. æ‰“å°gem ä¸‹çš„æ‰€æœ‰åŒ…æŸ¥çœ‹cocoapodsç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure></p>\n<p>$ gem list<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 5. ç§»é™¤ç¨‹åºåŒ…(å¦‚æœè¦åˆ é™¤ä¾èµ–åŒ…åªéœ€è¦æ›´æ”¹â€œcocoapodsâ€å³å¯)</span><br></pre></td></tr></table></figure></p>\n<p>$ sudo gem uninstall cocoapods -v ç‰ˆæœ¬å·<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 6. åˆ é™¤reposåŒ…ï¼ˆå¤§çº¦300+Mï¼‰</span><br></pre></td></tr></table></figure></p>\n<p>$ rmdir ~/.cocoapods<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">###å¤šç‰ˆæœ¬å…±å­˜ä¸ä½¿ç”¨</span><br><span class=\"line\">&gt; 1. å®‰è£…æŒ‡å®šç‰ˆæœ¬Cocoapods</span><br></pre></td></tr></table></figure></p>\n<p>$ sudo gem install cocoapods -v 0.35.0<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 2. ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬Cocoapods</span><br></pre></td></tr></table></figure></p>\n<p>$ pod <em>0.35.0</em> install,    pod <em>0.38.2</em> install<br>```</p>\n","site":{"data":{}},"excerpt":"","more":"<p>###å®‰è£…é¡ºåº</p>\n<blockquote>\n<p>1ã€å®‰è£…brewï¼Œå®‰è£…é“¾æ¥å¦‚è‹¥æ›´æ–°ï¼Œè¯·ç‚¹å‡»<a href=\"http://brew.sh\" target=\"_blank\" rel=\"noopener\">æ­¤é“¾æ¥</a>æŸ¥çœ‹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<hr>\n<blockquote>\n<p>2ã€å®‰è£…Ruby<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ brew install ruby</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<hr>\n<blockquote>\n<p>3ã€å®‰è£…CocoaPods</p>\n<ol>\n<li>ç§»é™¤ç°æœ‰ Ruby é»˜è®¤æº<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gem sources --remove https://rubygems.org/</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</blockquote>\n<ol>\n<li><p>ä½¿ç”¨æ–°çš„é•œåƒæºï¼ˆéç½‘ç»œä¸Šçš„Taobaoæºï¼‰</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Â $ gem sources -a https://gems.ruby-china.org/</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>éªŒè¯æ˜¯å¦æˆåŠŸ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gem sources -l</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å®‰è£…CocoaPods</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo gem install cocoapods</span><br><span class=\"line\">$ pod setup</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-d60693d4056982e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"ç­‰å¾…ä¸­\"></p>\n<hr>\n<p>###ç›‘æµ‹ä¸‹è½½è¿›åº¦</p>\n<blockquote>\n<p>1ã€è·³è½¬æŒ‡å®šæ–‡ä»¶å¤¹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cd ~/.cocoapods</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>2ã€ç›‘æµ‹ç½‘ç»œä¸‹è½½è¿›åº¦<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ du -sh *</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-47ff3ae7ec8ccfdf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"ç›‘æµ‹ç•Œé¢\"></p>\n<p>psï¼š å†æ‰§è¡Œå®‰è£…CocoaPodsæ—¶ æ‰§è¡Œ<figure class=\"highlight plain\"><figcaption><span>pod setup```éœ€è¦ç­‰å¾…å¤§çº¦åŠä¸ªå¤šå°æ—¶æ—¶é—´ï¼Œæœ‰æ—¶ç­‰å¾…äº†ä¹Ÿä¼šæŠ¥é”™ï¼Œæ­¤å¤„å¯ä»¥å·é¸¡</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">***</span><br><span class=\"line\">###å·é¸¡æ•™å­¦</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; 1ã€[ç‚¹å‡»æ­¤å¤„ä¸‹è½½æ–‡ä»¶](http://pan.baidu.com/s/1hsr24uS)```æå–å¯†ç ä¸º52r5 ```ä¸‹è½½Reposæ–‡ä»¶å¹¶è§£å‹</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; 2ã€æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ ```open ~/.cocoapods</span><br></pre></td></tr></table></figure></p>\n<blockquote>\n<p>3ã€å°†è§£å‹æ–‡ä»¶æ›¿æ¢æ–‡ä»¶å¤¹Repos</p>\n<p>4ã€å†æ¬¡æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤è¡Œ<figure class=\"highlight plain\"><figcaption><span>search afn```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; </span><br><span class=\"line\">&gt; 5ã€å¦‚æœå‡ºç°ä¸‹å›¾ä¸ºå®‰è£…å®Œæˆ</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">![æˆåŠŸç•Œé¢](http://upload-images.jianshu.io/upload_images/1505288-751aad7106fdcc8f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&gt; æŸ¥çœ‹CocoaPodsç‰ˆæœ¬</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>$ pod â€“version<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">###å¸è½½CocoaPods</span><br><span class=\"line\">&gt; 1. æŸ¥çœ‹CocoaPodsè·¯å¾„</span><br></pre></td></tr></table></figure></p>\n<p>$ which pod<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 2. æŸ¥çœ‹CocoaPodsä½ç½®</span><br></pre></td></tr></table></figure></p>\n<p>$ sudo rm -rf è·¯å¾„<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 3. æŸ¥çœ‹CocoaPodsç‰ˆæœ¬ï¼ˆ```-bash: /usr/local/bin/pod: No such file or directory```å³åˆ é™¤æˆåŠŸï¼‰</span><br></pre></td></tr></table></figure></p>\n<p>$ pod â€“version<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 4. æ‰“å°gem ä¸‹çš„æ‰€æœ‰åŒ…æŸ¥çœ‹cocoapodsç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure></p>\n<p>$ gem list<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 5. ç§»é™¤ç¨‹åºåŒ…(å¦‚æœè¦åˆ é™¤ä¾èµ–åŒ…åªéœ€è¦æ›´æ”¹â€œcocoapodsâ€å³å¯)</span><br></pre></td></tr></table></figure></p>\n<p>$ sudo gem uninstall cocoapods -v ç‰ˆæœ¬å·<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 6. åˆ é™¤reposåŒ…ï¼ˆå¤§çº¦300+Mï¼‰</span><br></pre></td></tr></table></figure></p>\n<p>$ rmdir ~/.cocoapods<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">###å¤šç‰ˆæœ¬å…±å­˜ä¸ä½¿ç”¨</span><br><span class=\"line\">&gt; 1. å®‰è£…æŒ‡å®šç‰ˆæœ¬Cocoapods</span><br></pre></td></tr></table></figure></p>\n<p>$ sudo gem install cocoapods -v 0.35.0<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; 2. ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬Cocoapods</span><br></pre></td></tr></table></figure></p>\n<p>$ pod <em>0.35.0</em> install,    pod <em>0.38.2</em> install<br>```</p>\n"},{"title":"æ ¹æ®å›¾ç‰‡è·å–æ‹æ‘„åœ°ç‚¹å’Œæ‹æ‘„æ—¶é—´","date":"2017-11-15T15:02:25.000Z","_content":"\n![æ•ˆæœå›¾.gif](http://upload-images.jianshu.io/upload_images/1505288-78d9b8f676a4ac7e.gif?imageMogr2/auto-orient/strip)\n\nå‚è€ƒ\n[iOS è·å¾—å›¾ç‰‡çš„æ—¶é—´ï¼ˆé€šè¿‡æ‹ç…§å’Œå–å‡ºï¼‰](http://blog.csdn.net/li1990101010/article/details/50462331)\n[å¦‚ä½•è·å–iPhoneæ‹æ‘„çš„pngç…§ç‰‡çš„æ‹æ‘„æ—¶é—´,ä½ç½®ä¿¡æ¯ç­‰å›¾ç‰‡å±æ€§?  ](http://www.cocoachina.com/bbs/read.php?tid=103913png)\n\n###ç®€å•ç†å¿µ\n>1. æ‹ç…§è·å–\næ‹ç…§å³å¯é€šè¿‡CoreLocationè·å–å½“å‰ä½ç½®å’Œå½“å‰æ—¶é—´ã€‚\n>2. ç›¸å†Œè·å–\nç›¸å†Œå³å¯é€šè¿‡ALAssetsLibraryæ¥è·å–æ‹æ‘„æ—¶é—´å’Œæ‹æ‘„åœ°ç‚¹ã€‚\n\næœ¬è½¯ä»¶æ˜¯é€šè¿‡imagePickerçš„ä»£ç†å›è°ƒä¸­è·å–infoï¼Œå¹¶ä»infoä¸­è·å–å¤§é‡æœ‰å…³çš„ä¿¡æ¯ï¼Œéƒ¨åˆ†å›¾ç‰‡æ²¡æœ‰æ˜¯å› ä¸ºæ‹ç…§æ—¶æ²¡æœ‰å½•å…¥ä¿¡æ¯ï¼Œå­˜åœ¨æ— ç½‘ç»œå’Œå…³é—­æƒé™åŠŸèƒ½ã€‚\n\n-----\n\n###å¼•å…¥å¤´æ–‡ä»¶\n\n```\n#import <MobileCoreServices/MobileCoreServices.h>\n\n#import <ImageIO/CGImageProperties.h>\n\n#import <AssetsLibrary/AssetsLibrary.h>\n\n#import <CoreLocation/CoreLocation.h>\n\n#import \"NSDictionary+CLLocation.h\"\n```\n\n###å®šä¹‰å±æ€§\n\n```\n@property (nonatomic, strong) UIImagePickerController *imagePickerVC;\n\n@property (nonatomic, strong) CLLocationManager *locationmanager;//æ‹ç…§å®šä½\n\n@property (weak, nonatomic) IBOutlet UIImageView *imageView;\n@property (weak, nonatomic) IBOutlet UILabel *time;\n@property (weak, nonatomic) IBOutlet UILabel *jingdu;\n@property (weak, nonatomic) IBOutlet UILabel *weidu;\n@property (weak, nonatomic) IBOutlet UILabel *location;\n\n@property (nonatomic, copy) NSString *locationFormat;\n```\n\n\n###æ‡’åŠ è½½\n\n```\n#pragma mark æ‡’åŠ è½½\n- (UIImagePickerController *)imagePickerVC {\n    if (!_imagePickerVC) {\n        _imagePickerVC = [[UIImagePickerController alloc] init];\n        // è®¾ç½®èµ„æºæ¥æºï¼ˆç›¸å†Œã€ç›¸æœºã€å›¾åº“ä¹‹ä¸€ï¼‰\n        //        imagePickerVC.sourceType = UIImagePickerControllerSourceTypeCamera;\n        // è®¾ç½®å¯ç”¨çš„åª’ä½“ç±»å‹ã€é»˜è®¤åªåŒ…å«kUTTypeImageï¼Œå¦‚æœæƒ³é€‰æ‹©è§†é¢‘ï¼Œè¯·æ·»åŠ kUTTypeMovie\n        // å¦‚æœé€‰æ‹©çš„æ˜¯è§†å±ï¼Œå…è®¸çš„è§†å±æ—¶é•¿ä¸º20ç§’\n        _imagePickerVC.videoMaximumDuration = 20;\n        // å…è®¸çš„è§†å±è´¨é‡ï¼ˆå¦‚æœè´¨é‡é€‰å–çš„è´¨é‡è¿‡é«˜ï¼Œä¼šè‡ªåŠ¨é™ä½è´¨é‡ï¼‰\n        _imagePickerVC.videoQuality = UIImagePickerControllerQualityTypeHigh;\n        _imagePickerVC.mediaTypes = @[(NSString *)kUTTypeMovie, (NSString *)kUTTypeImage];\n        // è®¾ç½®ä»£ç†ï¼Œéµå®ˆUINavigationControllerDelegate, UIImagePickerControllerDelegate åè®®\n        _imagePickerVC.delegate = self;\n        // æ˜¯å¦å…è®¸ç¼–è¾‘ï¼ˆYESï¼šå›¾ç‰‡é€‰æ‹©å®Œæˆè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼‰\n//        _imagePickerVC.allowsEditing = YES;\n        \n    }\n    return _imagePickerVC;\n}\n\n\n-(CLLocationManager *)locationManager {\n    if (!_locationManager) {\n        _locationManager = [[CLLocationManager alloc] init];\n        _locationManager.delegate = self;\n        _locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n        _locationManager.distanceFilter = 1000.0f;\n    }\n    return _locationManager;\n}\n```\n\n\n###æ‹ç…§ç›¸å…³ä»£ç \n\n```\n\n\n-(void)getLocation\n{\n    //åˆ¤æ–­å®šä½åŠŸèƒ½æ˜¯å¦æ‰“å¼€\n    if ([CLLocationManager locationServicesEnabled]) {\n        self.locationManager = [[CLLocationManager alloc]init];\n        self.locationManager.delegate = self;\n        [self.locationManager requestAlwaysAuthorization];\n        \n        [self.locationManager requestWhenInUseAuthorization];\n        \n        //è®¾ç½®å¯»å€ç²¾åº¦\n        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n        self.locationManager.distanceFilter = 5.0;\n        [self.locationManager startUpdatingLocation];\n    }\n}\n\n//å®šä½å¤±è´¥åè°ƒç”¨æ­¤ä»£ç†æ–¹æ³•\n-(void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error\n{}\n\n//è·å–ä¸€æ¬¡å®šä½ï¼Œç„¶åå…³æ‰manager\n-(void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray<CLLocation *> *)locations\n{\n    //é˜²æ­¢å¤šæ¬¡è°ƒç”¨\n    \n    CLLocation *currentLocation = [locations lastObject];\n    \n    NSTimeInterval locationAge = -[currentLocation.timestamp timeIntervalSinceNow];\n    \n    if (locationAge > 5.0) return;\n    \n    if (currentLocation.horizontalAccuracy < 0) return;\n    \n    //å½“å‰ç»çº¬åº¦\n    self.jingdu.text = [NSString stringWithFormat:@\"%f\", currentLocation.coordinate.longitude];\n    self.weidu.text = [NSString stringWithFormat:@\"%f\", currentLocation.coordinate.latitude];\n    \n    CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];\n    \n    CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:currentLocation.coordinate.latitude longitude:currentLocation.coordinate.longitude];\n    \n    __weak typeof(self)weakSelf = self;\n    \n    //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -> æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®\n    [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) {\n        \n        for (CLPlacemark *placeMark in placemarks)\n        {\n            NSDictionary *addressDic=placeMark.addressDictionary;\n            \n            NSArray *location_Arr = [addressDic objectForKey:@\"FormattedAddressLines\"];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®\n            \n            weakSelf.location.text = [location_Arr firstObject];\n        }\n    }];\n    \n    [self.locationManager stopUpdatingLocation];\n\n}\n\n\n```\n\n###ç›¸å†Œç›¸å…³ä»£ç \n\n```\n\n{//ç›¸å†Œ\n        \n        NSURL *assetURL = [info objectForKey:UIImagePickerControllerReferenceURL];\n        \n        ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];\n        \n        __block NSMutableDictionary *imageMetadata_GPS = nil;\n        \n        __weak typeof(self)weakSelf = self;\n        \n        [library assetForURL:assetURL resultBlock:^(ALAsset *asset) {\n            \n             //è·å–æ—¶é—´\n             NSDate* pictureDate = [asset valueForProperty:ALAssetPropertyDate];\n             NSDateFormatter * formatter = [[NSDateFormatter alloc]init];\n             formatter.dateFormat = @\"yyyy:MM:dd HH:mm:ss\";\n             formatter.timeZone = [NSTimeZone localTimeZone];\n             NSString * pictureTime = [formatter stringFromDate:pictureDate];\n             weakSelf.time.text = pictureTime;\n             \n             //è·å–GPS\n             imageMetadata_GPS = [[NSMutableDictionary alloc] initWithDictionary:asset.defaultRepresentation.metadata];\n             \n             NSDictionary *GPSDict=[imageMetadata_GPS objectForKey:(NSString*)kCGImagePropertyGPSDictionary];\n             \n             if (GPSDict!=nil) {\n                 \n                 CLLocation *loc=[GPSDict locationFromGPSDictionary];\n                 \n                 weakSelf.weidu.text = [NSString stringWithFormat:@\"%f\", loc.coordinate.latitude];\n                 weakSelf.jingdu.text = [NSString stringWithFormat:@\"%f\", loc.coordinate.longitude];\n                 \n                 CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];\n                 \n                 CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:loc.coordinate.latitude longitude:loc.coordinate.longitude];\n                 \n                 //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -> æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®\n                 [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) {\n                     for (CLPlacemark *placeMark in placemarks)\n                     {\n                         NSDictionary *addressDic=placeMark.addressDictionary;\n                         \n                         NSArray *location_Arr = [addressDic objectForKey:@\"FormattedAddressLines\"];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®\n                         \n                         weakSelf.location.text = [location_Arr firstObject];\n                         \n                     }\n                 }];\n\n             }else{\n                     weakSelf.weidu.text = @\"æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯\";\n                     weakSelf.jingdu.text = @\"æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯\";\n                     weakSelf.location.text = @\"æ­¤ç…§ç‰‡æ²¡æœ‰æ‹æ‘„ä½ç½®\";\n                 }\n                 \n             }\n     \n            failureBlock:^(NSError *error) {\n        }];\n    }\n```\n\n###demoåœ°å€\n[https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime  ](https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime)","source":"_posts/æ ¹æ®å›¾ç‰‡è·å–æ‹æ‘„åœ°ç‚¹å’Œæ‹æ‘„æ—¶é—´.md","raw":"---\ntitle: æ ¹æ®å›¾ç‰‡è·å–æ‹æ‘„åœ°ç‚¹å’Œæ‹æ‘„æ—¶é—´\ndate: 2017-11-15 23:02:25\ntags:\n---\n\n![æ•ˆæœå›¾.gif](http://upload-images.jianshu.io/upload_images/1505288-78d9b8f676a4ac7e.gif?imageMogr2/auto-orient/strip)\n\nå‚è€ƒ\n[iOS è·å¾—å›¾ç‰‡çš„æ—¶é—´ï¼ˆé€šè¿‡æ‹ç…§å’Œå–å‡ºï¼‰](http://blog.csdn.net/li1990101010/article/details/50462331)\n[å¦‚ä½•è·å–iPhoneæ‹æ‘„çš„pngç…§ç‰‡çš„æ‹æ‘„æ—¶é—´,ä½ç½®ä¿¡æ¯ç­‰å›¾ç‰‡å±æ€§?  ](http://www.cocoachina.com/bbs/read.php?tid=103913png)\n\n###ç®€å•ç†å¿µ\n>1. æ‹ç…§è·å–\næ‹ç…§å³å¯é€šè¿‡CoreLocationè·å–å½“å‰ä½ç½®å’Œå½“å‰æ—¶é—´ã€‚\n>2. ç›¸å†Œè·å–\nç›¸å†Œå³å¯é€šè¿‡ALAssetsLibraryæ¥è·å–æ‹æ‘„æ—¶é—´å’Œæ‹æ‘„åœ°ç‚¹ã€‚\n\næœ¬è½¯ä»¶æ˜¯é€šè¿‡imagePickerçš„ä»£ç†å›è°ƒä¸­è·å–infoï¼Œå¹¶ä»infoä¸­è·å–å¤§é‡æœ‰å…³çš„ä¿¡æ¯ï¼Œéƒ¨åˆ†å›¾ç‰‡æ²¡æœ‰æ˜¯å› ä¸ºæ‹ç…§æ—¶æ²¡æœ‰å½•å…¥ä¿¡æ¯ï¼Œå­˜åœ¨æ— ç½‘ç»œå’Œå…³é—­æƒé™åŠŸèƒ½ã€‚\n\n-----\n\n###å¼•å…¥å¤´æ–‡ä»¶\n\n```\n#import <MobileCoreServices/MobileCoreServices.h>\n\n#import <ImageIO/CGImageProperties.h>\n\n#import <AssetsLibrary/AssetsLibrary.h>\n\n#import <CoreLocation/CoreLocation.h>\n\n#import \"NSDictionary+CLLocation.h\"\n```\n\n###å®šä¹‰å±æ€§\n\n```\n@property (nonatomic, strong) UIImagePickerController *imagePickerVC;\n\n@property (nonatomic, strong) CLLocationManager *locationmanager;//æ‹ç…§å®šä½\n\n@property (weak, nonatomic) IBOutlet UIImageView *imageView;\n@property (weak, nonatomic) IBOutlet UILabel *time;\n@property (weak, nonatomic) IBOutlet UILabel *jingdu;\n@property (weak, nonatomic) IBOutlet UILabel *weidu;\n@property (weak, nonatomic) IBOutlet UILabel *location;\n\n@property (nonatomic, copy) NSString *locationFormat;\n```\n\n\n###æ‡’åŠ è½½\n\n```\n#pragma mark æ‡’åŠ è½½\n- (UIImagePickerController *)imagePickerVC {\n    if (!_imagePickerVC) {\n        _imagePickerVC = [[UIImagePickerController alloc] init];\n        // è®¾ç½®èµ„æºæ¥æºï¼ˆç›¸å†Œã€ç›¸æœºã€å›¾åº“ä¹‹ä¸€ï¼‰\n        //        imagePickerVC.sourceType = UIImagePickerControllerSourceTypeCamera;\n        // è®¾ç½®å¯ç”¨çš„åª’ä½“ç±»å‹ã€é»˜è®¤åªåŒ…å«kUTTypeImageï¼Œå¦‚æœæƒ³é€‰æ‹©è§†é¢‘ï¼Œè¯·æ·»åŠ kUTTypeMovie\n        // å¦‚æœé€‰æ‹©çš„æ˜¯è§†å±ï¼Œå…è®¸çš„è§†å±æ—¶é•¿ä¸º20ç§’\n        _imagePickerVC.videoMaximumDuration = 20;\n        // å…è®¸çš„è§†å±è´¨é‡ï¼ˆå¦‚æœè´¨é‡é€‰å–çš„è´¨é‡è¿‡é«˜ï¼Œä¼šè‡ªåŠ¨é™ä½è´¨é‡ï¼‰\n        _imagePickerVC.videoQuality = UIImagePickerControllerQualityTypeHigh;\n        _imagePickerVC.mediaTypes = @[(NSString *)kUTTypeMovie, (NSString *)kUTTypeImage];\n        // è®¾ç½®ä»£ç†ï¼Œéµå®ˆUINavigationControllerDelegate, UIImagePickerControllerDelegate åè®®\n        _imagePickerVC.delegate = self;\n        // æ˜¯å¦å…è®¸ç¼–è¾‘ï¼ˆYESï¼šå›¾ç‰‡é€‰æ‹©å®Œæˆè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼‰\n//        _imagePickerVC.allowsEditing = YES;\n        \n    }\n    return _imagePickerVC;\n}\n\n\n-(CLLocationManager *)locationManager {\n    if (!_locationManager) {\n        _locationManager = [[CLLocationManager alloc] init];\n        _locationManager.delegate = self;\n        _locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n        _locationManager.distanceFilter = 1000.0f;\n    }\n    return _locationManager;\n}\n```\n\n\n###æ‹ç…§ç›¸å…³ä»£ç \n\n```\n\n\n-(void)getLocation\n{\n    //åˆ¤æ–­å®šä½åŠŸèƒ½æ˜¯å¦æ‰“å¼€\n    if ([CLLocationManager locationServicesEnabled]) {\n        self.locationManager = [[CLLocationManager alloc]init];\n        self.locationManager.delegate = self;\n        [self.locationManager requestAlwaysAuthorization];\n        \n        [self.locationManager requestWhenInUseAuthorization];\n        \n        //è®¾ç½®å¯»å€ç²¾åº¦\n        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n        self.locationManager.distanceFilter = 5.0;\n        [self.locationManager startUpdatingLocation];\n    }\n}\n\n//å®šä½å¤±è´¥åè°ƒç”¨æ­¤ä»£ç†æ–¹æ³•\n-(void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error\n{}\n\n//è·å–ä¸€æ¬¡å®šä½ï¼Œç„¶åå…³æ‰manager\n-(void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray<CLLocation *> *)locations\n{\n    //é˜²æ­¢å¤šæ¬¡è°ƒç”¨\n    \n    CLLocation *currentLocation = [locations lastObject];\n    \n    NSTimeInterval locationAge = -[currentLocation.timestamp timeIntervalSinceNow];\n    \n    if (locationAge > 5.0) return;\n    \n    if (currentLocation.horizontalAccuracy < 0) return;\n    \n    //å½“å‰ç»çº¬åº¦\n    self.jingdu.text = [NSString stringWithFormat:@\"%f\", currentLocation.coordinate.longitude];\n    self.weidu.text = [NSString stringWithFormat:@\"%f\", currentLocation.coordinate.latitude];\n    \n    CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];\n    \n    CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:currentLocation.coordinate.latitude longitude:currentLocation.coordinate.longitude];\n    \n    __weak typeof(self)weakSelf = self;\n    \n    //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -> æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®\n    [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) {\n        \n        for (CLPlacemark *placeMark in placemarks)\n        {\n            NSDictionary *addressDic=placeMark.addressDictionary;\n            \n            NSArray *location_Arr = [addressDic objectForKey:@\"FormattedAddressLines\"];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®\n            \n            weakSelf.location.text = [location_Arr firstObject];\n        }\n    }];\n    \n    [self.locationManager stopUpdatingLocation];\n\n}\n\n\n```\n\n###ç›¸å†Œç›¸å…³ä»£ç \n\n```\n\n{//ç›¸å†Œ\n        \n        NSURL *assetURL = [info objectForKey:UIImagePickerControllerReferenceURL];\n        \n        ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];\n        \n        __block NSMutableDictionary *imageMetadata_GPS = nil;\n        \n        __weak typeof(self)weakSelf = self;\n        \n        [library assetForURL:assetURL resultBlock:^(ALAsset *asset) {\n            \n             //è·å–æ—¶é—´\n             NSDate* pictureDate = [asset valueForProperty:ALAssetPropertyDate];\n             NSDateFormatter * formatter = [[NSDateFormatter alloc]init];\n             formatter.dateFormat = @\"yyyy:MM:dd HH:mm:ss\";\n             formatter.timeZone = [NSTimeZone localTimeZone];\n             NSString * pictureTime = [formatter stringFromDate:pictureDate];\n             weakSelf.time.text = pictureTime;\n             \n             //è·å–GPS\n             imageMetadata_GPS = [[NSMutableDictionary alloc] initWithDictionary:asset.defaultRepresentation.metadata];\n             \n             NSDictionary *GPSDict=[imageMetadata_GPS objectForKey:(NSString*)kCGImagePropertyGPSDictionary];\n             \n             if (GPSDict!=nil) {\n                 \n                 CLLocation *loc=[GPSDict locationFromGPSDictionary];\n                 \n                 weakSelf.weidu.text = [NSString stringWithFormat:@\"%f\", loc.coordinate.latitude];\n                 weakSelf.jingdu.text = [NSString stringWithFormat:@\"%f\", loc.coordinate.longitude];\n                 \n                 CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];\n                 \n                 CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:loc.coordinate.latitude longitude:loc.coordinate.longitude];\n                 \n                 //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -> æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®\n                 [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) {\n                     for (CLPlacemark *placeMark in placemarks)\n                     {\n                         NSDictionary *addressDic=placeMark.addressDictionary;\n                         \n                         NSArray *location_Arr = [addressDic objectForKey:@\"FormattedAddressLines\"];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®\n                         \n                         weakSelf.location.text = [location_Arr firstObject];\n                         \n                     }\n                 }];\n\n             }else{\n                     weakSelf.weidu.text = @\"æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯\";\n                     weakSelf.jingdu.text = @\"æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯\";\n                     weakSelf.location.text = @\"æ­¤ç…§ç‰‡æ²¡æœ‰æ‹æ‘„ä½ç½®\";\n                 }\n                 \n             }\n     \n            failureBlock:^(NSError *error) {\n        }];\n    }\n```\n\n###demoåœ°å€\n[https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime  ](https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime)","slug":"æ ¹æ®å›¾ç‰‡è·å–æ‹æ‘„åœ°ç‚¹å’Œæ‹æ‘„æ—¶é—´","published":1,"updated":"2017-11-15T15:02:45.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cja1vphkn0004p9fyl28vyap8","content":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-78d9b8f676a4ac7e.gif?imageMogr2/auto-orient/strip\" alt=\"æ•ˆæœå›¾.gif\"></p>\n<p>å‚è€ƒ<br><a href=\"http://blog.csdn.net/li1990101010/article/details/50462331\" target=\"_blank\" rel=\"noopener\">iOS è·å¾—å›¾ç‰‡çš„æ—¶é—´ï¼ˆé€šè¿‡æ‹ç…§å’Œå–å‡ºï¼‰</a><br><a href=\"http://www.cocoachina.com/bbs/read.php?tid=103913png\" target=\"_blank\" rel=\"noopener\">å¦‚ä½•è·å–iPhoneæ‹æ‘„çš„pngç…§ç‰‡çš„æ‹æ‘„æ—¶é—´,ä½ç½®ä¿¡æ¯ç­‰å›¾ç‰‡å±æ€§?  </a></p>\n<p>###ç®€å•ç†å¿µ</p>\n<blockquote>\n<ol>\n<li>æ‹ç…§è·å–<br>æ‹ç…§å³å¯é€šè¿‡CoreLocationè·å–å½“å‰ä½ç½®å’Œå½“å‰æ—¶é—´ã€‚</li>\n<li>ç›¸å†Œè·å–<br>ç›¸å†Œå³å¯é€šè¿‡ALAssetsLibraryæ¥è·å–æ‹æ‘„æ—¶é—´å’Œæ‹æ‘„åœ°ç‚¹ã€‚</li>\n</ol>\n</blockquote>\n<p>æœ¬è½¯ä»¶æ˜¯é€šè¿‡imagePickerçš„ä»£ç†å›è°ƒä¸­è·å–infoï¼Œå¹¶ä»infoä¸­è·å–å¤§é‡æœ‰å…³çš„ä¿¡æ¯ï¼Œéƒ¨åˆ†å›¾ç‰‡æ²¡æœ‰æ˜¯å› ä¸ºæ‹ç…§æ—¶æ²¡æœ‰å½•å…¥ä¿¡æ¯ï¼Œå­˜åœ¨æ— ç½‘ç»œå’Œå…³é—­æƒé™åŠŸèƒ½ã€‚</p>\n<hr>\n<p>###å¼•å…¥å¤´æ–‡ä»¶</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#import &lt;MobileCoreServices/MobileCoreServices.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;ImageIO/CGImageProperties.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;AssetsLibrary/AssetsLibrary.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;CoreLocation/CoreLocation.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &quot;NSDictionary+CLLocation.h&quot;</span><br></pre></td></tr></table></figure>\n<p>###å®šä¹‰å±æ€§</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@property (nonatomic, strong) UIImagePickerController *imagePickerVC;</span><br><span class=\"line\"></span><br><span class=\"line\">@property (nonatomic, strong) CLLocationManager *locationmanager;//æ‹ç…§å®šä½</span><br><span class=\"line\"></span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UIImageView *imageView;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *time;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *jingdu;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *weidu;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *location;</span><br><span class=\"line\"></span><br><span class=\"line\">@property (nonatomic, copy) NSString *locationFormat;</span><br></pre></td></tr></table></figure>\n<p>###æ‡’åŠ è½½</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#pragma mark æ‡’åŠ è½½</span><br><span class=\"line\">- (UIImagePickerController *)imagePickerVC &#123;</span><br><span class=\"line\">    if (!_imagePickerVC) &#123;</span><br><span class=\"line\">        _imagePickerVC = [[UIImagePickerController alloc] init];</span><br><span class=\"line\">        // è®¾ç½®èµ„æºæ¥æºï¼ˆç›¸å†Œã€ç›¸æœºã€å›¾åº“ä¹‹ä¸€ï¼‰</span><br><span class=\"line\">        //        imagePickerVC.sourceType = UIImagePickerControllerSourceTypeCamera;</span><br><span class=\"line\">        // è®¾ç½®å¯ç”¨çš„åª’ä½“ç±»å‹ã€é»˜è®¤åªåŒ…å«kUTTypeImageï¼Œå¦‚æœæƒ³é€‰æ‹©è§†é¢‘ï¼Œè¯·æ·»åŠ kUTTypeMovie</span><br><span class=\"line\">        // å¦‚æœé€‰æ‹©çš„æ˜¯è§†å±ï¼Œå…è®¸çš„è§†å±æ—¶é•¿ä¸º20ç§’</span><br><span class=\"line\">        _imagePickerVC.videoMaximumDuration = 20;</span><br><span class=\"line\">        // å…è®¸çš„è§†å±è´¨é‡ï¼ˆå¦‚æœè´¨é‡é€‰å–çš„è´¨é‡è¿‡é«˜ï¼Œä¼šè‡ªåŠ¨é™ä½è´¨é‡ï¼‰</span><br><span class=\"line\">        _imagePickerVC.videoQuality = UIImagePickerControllerQualityTypeHigh;</span><br><span class=\"line\">        _imagePickerVC.mediaTypes = @[(NSString *)kUTTypeMovie, (NSString *)kUTTypeImage];</span><br><span class=\"line\">        // è®¾ç½®ä»£ç†ï¼Œéµå®ˆUINavigationControllerDelegate, UIImagePickerControllerDelegate åè®®</span><br><span class=\"line\">        _imagePickerVC.delegate = self;</span><br><span class=\"line\">        // æ˜¯å¦å…è®¸ç¼–è¾‘ï¼ˆYESï¼šå›¾ç‰‡é€‰æ‹©å®Œæˆè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼‰</span><br><span class=\"line\">//        _imagePickerVC.allowsEditing = YES;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return _imagePickerVC;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-(CLLocationManager *)locationManager &#123;</span><br><span class=\"line\">    if (!_locationManager) &#123;</span><br><span class=\"line\">        _locationManager = [[CLLocationManager alloc] init];</span><br><span class=\"line\">        _locationManager.delegate = self;</span><br><span class=\"line\">        _locationManager.desiredAccuracy = kCLLocationAccuracyBest;</span><br><span class=\"line\">        _locationManager.distanceFilter = 1000.0f;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return _locationManager;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>###æ‹ç…§ç›¸å…³ä»£ç </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-(void)getLocation</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    //åˆ¤æ–­å®šä½åŠŸèƒ½æ˜¯å¦æ‰“å¼€</span><br><span class=\"line\">    if ([CLLocationManager locationServicesEnabled]) &#123;</span><br><span class=\"line\">        self.locationManager = [[CLLocationManager alloc]init];</span><br><span class=\"line\">        self.locationManager.delegate = self;</span><br><span class=\"line\">        [self.locationManager requestAlwaysAuthorization];</span><br><span class=\"line\">        </span><br><span class=\"line\">        [self.locationManager requestWhenInUseAuthorization];</span><br><span class=\"line\">        </span><br><span class=\"line\">        //è®¾ç½®å¯»å€ç²¾åº¦</span><br><span class=\"line\">        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest;</span><br><span class=\"line\">        self.locationManager.distanceFilter = 5.0;</span><br><span class=\"line\">        [self.locationManager startUpdatingLocation];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//å®šä½å¤±è´¥åè°ƒç”¨æ­¤ä»£ç†æ–¹æ³•</span><br><span class=\"line\">-(void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error</span><br><span class=\"line\">&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//è·å–ä¸€æ¬¡å®šä½ï¼Œç„¶åå…³æ‰manager</span><br><span class=\"line\">-(void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray&lt;CLLocation *&gt; *)locations</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    //é˜²æ­¢å¤šæ¬¡è°ƒç”¨</span><br><span class=\"line\">    </span><br><span class=\"line\">    CLLocation *currentLocation = [locations lastObject];</span><br><span class=\"line\">    </span><br><span class=\"line\">    NSTimeInterval locationAge = -[currentLocation.timestamp timeIntervalSinceNow];</span><br><span class=\"line\">    </span><br><span class=\"line\">    if (locationAge &gt; 5.0) return;</span><br><span class=\"line\">    </span><br><span class=\"line\">    if (currentLocation.horizontalAccuracy &lt; 0) return;</span><br><span class=\"line\">    </span><br><span class=\"line\">    //å½“å‰ç»çº¬åº¦</span><br><span class=\"line\">    self.jingdu.text = [NSString stringWithFormat:@&quot;%f&quot;, currentLocation.coordinate.longitude];</span><br><span class=\"line\">    self.weidu.text = [NSString stringWithFormat:@&quot;%f&quot;, currentLocation.coordinate.latitude];</span><br><span class=\"line\">    </span><br><span class=\"line\">    CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];</span><br><span class=\"line\">    </span><br><span class=\"line\">    CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:currentLocation.coordinate.latitude longitude:currentLocation.coordinate.longitude];</span><br><span class=\"line\">    </span><br><span class=\"line\">    __weak typeof(self)weakSelf = self;</span><br><span class=\"line\">    </span><br><span class=\"line\">    //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -&gt; æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®</span><br><span class=\"line\">    [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        for (CLPlacemark *placeMark in placemarks)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            NSDictionary *addressDic=placeMark.addressDictionary;</span><br><span class=\"line\">            </span><br><span class=\"line\">            NSArray *location_Arr = [addressDic objectForKey:@&quot;FormattedAddressLines&quot;];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®</span><br><span class=\"line\">            </span><br><span class=\"line\">            weakSelf.location.text = [location_Arr firstObject];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;];</span><br><span class=\"line\">    </span><br><span class=\"line\">    [self.locationManager stopUpdatingLocation];</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>###ç›¸å†Œç›¸å…³ä»£ç </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#123;//ç›¸å†Œ</span><br><span class=\"line\">        </span><br><span class=\"line\">        NSURL *assetURL = [info objectForKey:UIImagePickerControllerReferenceURL];</span><br><span class=\"line\">        </span><br><span class=\"line\">        ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];</span><br><span class=\"line\">        </span><br><span class=\"line\">        __block NSMutableDictionary *imageMetadata_GPS = nil;</span><br><span class=\"line\">        </span><br><span class=\"line\">        __weak typeof(self)weakSelf = self;</span><br><span class=\"line\">        </span><br><span class=\"line\">        [library assetForURL:assetURL resultBlock:^(ALAsset *asset) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">             //è·å–æ—¶é—´</span><br><span class=\"line\">             NSDate* pictureDate = [asset valueForProperty:ALAssetPropertyDate];</span><br><span class=\"line\">             NSDateFormatter * formatter = [[NSDateFormatter alloc]init];</span><br><span class=\"line\">             formatter.dateFormat = @&quot;yyyy:MM:dd HH:mm:ss&quot;;</span><br><span class=\"line\">             formatter.timeZone = [NSTimeZone localTimeZone];</span><br><span class=\"line\">             NSString * pictureTime = [formatter stringFromDate:pictureDate];</span><br><span class=\"line\">             weakSelf.time.text = pictureTime;</span><br><span class=\"line\">             </span><br><span class=\"line\">             //è·å–GPS</span><br><span class=\"line\">             imageMetadata_GPS = [[NSMutableDictionary alloc] initWithDictionary:asset.defaultRepresentation.metadata];</span><br><span class=\"line\">             </span><br><span class=\"line\">             NSDictionary *GPSDict=[imageMetadata_GPS objectForKey:(NSString*)kCGImagePropertyGPSDictionary];</span><br><span class=\"line\">             </span><br><span class=\"line\">             if (GPSDict!=nil) &#123;</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 CLLocation *loc=[GPSDict locationFromGPSDictionary];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 weakSelf.weidu.text = [NSString stringWithFormat:@&quot;%f&quot;, loc.coordinate.latitude];</span><br><span class=\"line\">                 weakSelf.jingdu.text = [NSString stringWithFormat:@&quot;%f&quot;, loc.coordinate.longitude];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:loc.coordinate.latitude longitude:loc.coordinate.longitude];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -&gt; æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®</span><br><span class=\"line\">                 [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) &#123;</span><br><span class=\"line\">                     for (CLPlacemark *placeMark in placemarks)</span><br><span class=\"line\">                     &#123;</span><br><span class=\"line\">                         NSDictionary *addressDic=placeMark.addressDictionary;</span><br><span class=\"line\">                         </span><br><span class=\"line\">                         NSArray *location_Arr = [addressDic objectForKey:@&quot;FormattedAddressLines&quot;];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®</span><br><span class=\"line\">                         </span><br><span class=\"line\">                         weakSelf.location.text = [location_Arr firstObject];</span><br><span class=\"line\">                         </span><br><span class=\"line\">                     &#125;</span><br><span class=\"line\">                 &#125;];</span><br><span class=\"line\"></span><br><span class=\"line\">             &#125;else&#123;</span><br><span class=\"line\">                     weakSelf.weidu.text = @&quot;æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯&quot;;</span><br><span class=\"line\">                     weakSelf.jingdu.text = @&quot;æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯&quot;;</span><br><span class=\"line\">                     weakSelf.location.text = @&quot;æ­¤ç…§ç‰‡æ²¡æœ‰æ‹æ‘„ä½ç½®&quot;;</span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">                 </span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">            failureBlock:^(NSError *error) &#123;</span><br><span class=\"line\">        &#125;];</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>###demoåœ°å€<br><a href=\"https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime\" target=\"_blank\" rel=\"noopener\">https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime  </a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"http://upload-images.jianshu.io/upload_images/1505288-78d9b8f676a4ac7e.gif?imageMogr2/auto-orient/strip\" alt=\"æ•ˆæœå›¾.gif\"></p>\n<p>å‚è€ƒ<br><a href=\"http://blog.csdn.net/li1990101010/article/details/50462331\" target=\"_blank\" rel=\"noopener\">iOS è·å¾—å›¾ç‰‡çš„æ—¶é—´ï¼ˆé€šè¿‡æ‹ç…§å’Œå–å‡ºï¼‰</a><br><a href=\"http://www.cocoachina.com/bbs/read.php?tid=103913png\" target=\"_blank\" rel=\"noopener\">å¦‚ä½•è·å–iPhoneæ‹æ‘„çš„pngç…§ç‰‡çš„æ‹æ‘„æ—¶é—´,ä½ç½®ä¿¡æ¯ç­‰å›¾ç‰‡å±æ€§?  </a></p>\n<p>###ç®€å•ç†å¿µ</p>\n<blockquote>\n<ol>\n<li>æ‹ç…§è·å–<br>æ‹ç…§å³å¯é€šè¿‡CoreLocationè·å–å½“å‰ä½ç½®å’Œå½“å‰æ—¶é—´ã€‚</li>\n<li>ç›¸å†Œè·å–<br>ç›¸å†Œå³å¯é€šè¿‡ALAssetsLibraryæ¥è·å–æ‹æ‘„æ—¶é—´å’Œæ‹æ‘„åœ°ç‚¹ã€‚</li>\n</ol>\n</blockquote>\n<p>æœ¬è½¯ä»¶æ˜¯é€šè¿‡imagePickerçš„ä»£ç†å›è°ƒä¸­è·å–infoï¼Œå¹¶ä»infoä¸­è·å–å¤§é‡æœ‰å…³çš„ä¿¡æ¯ï¼Œéƒ¨åˆ†å›¾ç‰‡æ²¡æœ‰æ˜¯å› ä¸ºæ‹ç…§æ—¶æ²¡æœ‰å½•å…¥ä¿¡æ¯ï¼Œå­˜åœ¨æ— ç½‘ç»œå’Œå…³é—­æƒé™åŠŸèƒ½ã€‚</p>\n<hr>\n<p>###å¼•å…¥å¤´æ–‡ä»¶</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#import &lt;MobileCoreServices/MobileCoreServices.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;ImageIO/CGImageProperties.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;AssetsLibrary/AssetsLibrary.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;CoreLocation/CoreLocation.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">#import &quot;NSDictionary+CLLocation.h&quot;</span><br></pre></td></tr></table></figure>\n<p>###å®šä¹‰å±æ€§</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@property (nonatomic, strong) UIImagePickerController *imagePickerVC;</span><br><span class=\"line\"></span><br><span class=\"line\">@property (nonatomic, strong) CLLocationManager *locationmanager;//æ‹ç…§å®šä½</span><br><span class=\"line\"></span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UIImageView *imageView;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *time;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *jingdu;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *weidu;</span><br><span class=\"line\">@property (weak, nonatomic) IBOutlet UILabel *location;</span><br><span class=\"line\"></span><br><span class=\"line\">@property (nonatomic, copy) NSString *locationFormat;</span><br></pre></td></tr></table></figure>\n<p>###æ‡’åŠ è½½</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#pragma mark æ‡’åŠ è½½</span><br><span class=\"line\">- (UIImagePickerController *)imagePickerVC &#123;</span><br><span class=\"line\">    if (!_imagePickerVC) &#123;</span><br><span class=\"line\">        _imagePickerVC = [[UIImagePickerController alloc] init];</span><br><span class=\"line\">        // è®¾ç½®èµ„æºæ¥æºï¼ˆç›¸å†Œã€ç›¸æœºã€å›¾åº“ä¹‹ä¸€ï¼‰</span><br><span class=\"line\">        //        imagePickerVC.sourceType = UIImagePickerControllerSourceTypeCamera;</span><br><span class=\"line\">        // è®¾ç½®å¯ç”¨çš„åª’ä½“ç±»å‹ã€é»˜è®¤åªåŒ…å«kUTTypeImageï¼Œå¦‚æœæƒ³é€‰æ‹©è§†é¢‘ï¼Œè¯·æ·»åŠ kUTTypeMovie</span><br><span class=\"line\">        // å¦‚æœé€‰æ‹©çš„æ˜¯è§†å±ï¼Œå…è®¸çš„è§†å±æ—¶é•¿ä¸º20ç§’</span><br><span class=\"line\">        _imagePickerVC.videoMaximumDuration = 20;</span><br><span class=\"line\">        // å…è®¸çš„è§†å±è´¨é‡ï¼ˆå¦‚æœè´¨é‡é€‰å–çš„è´¨é‡è¿‡é«˜ï¼Œä¼šè‡ªåŠ¨é™ä½è´¨é‡ï¼‰</span><br><span class=\"line\">        _imagePickerVC.videoQuality = UIImagePickerControllerQualityTypeHigh;</span><br><span class=\"line\">        _imagePickerVC.mediaTypes = @[(NSString *)kUTTypeMovie, (NSString *)kUTTypeImage];</span><br><span class=\"line\">        // è®¾ç½®ä»£ç†ï¼Œéµå®ˆUINavigationControllerDelegate, UIImagePickerControllerDelegate åè®®</span><br><span class=\"line\">        _imagePickerVC.delegate = self;</span><br><span class=\"line\">        // æ˜¯å¦å…è®¸ç¼–è¾‘ï¼ˆYESï¼šå›¾ç‰‡é€‰æ‹©å®Œæˆè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼‰</span><br><span class=\"line\">//        _imagePickerVC.allowsEditing = YES;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return _imagePickerVC;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-(CLLocationManager *)locationManager &#123;</span><br><span class=\"line\">    if (!_locationManager) &#123;</span><br><span class=\"line\">        _locationManager = [[CLLocationManager alloc] init];</span><br><span class=\"line\">        _locationManager.delegate = self;</span><br><span class=\"line\">        _locationManager.desiredAccuracy = kCLLocationAccuracyBest;</span><br><span class=\"line\">        _locationManager.distanceFilter = 1000.0f;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return _locationManager;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>###æ‹ç…§ç›¸å…³ä»£ç </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">-(void)getLocation</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    //åˆ¤æ–­å®šä½åŠŸèƒ½æ˜¯å¦æ‰“å¼€</span><br><span class=\"line\">    if ([CLLocationManager locationServicesEnabled]) &#123;</span><br><span class=\"line\">        self.locationManager = [[CLLocationManager alloc]init];</span><br><span class=\"line\">        self.locationManager.delegate = self;</span><br><span class=\"line\">        [self.locationManager requestAlwaysAuthorization];</span><br><span class=\"line\">        </span><br><span class=\"line\">        [self.locationManager requestWhenInUseAuthorization];</span><br><span class=\"line\">        </span><br><span class=\"line\">        //è®¾ç½®å¯»å€ç²¾åº¦</span><br><span class=\"line\">        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest;</span><br><span class=\"line\">        self.locationManager.distanceFilter = 5.0;</span><br><span class=\"line\">        [self.locationManager startUpdatingLocation];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//å®šä½å¤±è´¥åè°ƒç”¨æ­¤ä»£ç†æ–¹æ³•</span><br><span class=\"line\">-(void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error</span><br><span class=\"line\">&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">//è·å–ä¸€æ¬¡å®šä½ï¼Œç„¶åå…³æ‰manager</span><br><span class=\"line\">-(void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray&lt;CLLocation *&gt; *)locations</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    //é˜²æ­¢å¤šæ¬¡è°ƒç”¨</span><br><span class=\"line\">    </span><br><span class=\"line\">    CLLocation *currentLocation = [locations lastObject];</span><br><span class=\"line\">    </span><br><span class=\"line\">    NSTimeInterval locationAge = -[currentLocation.timestamp timeIntervalSinceNow];</span><br><span class=\"line\">    </span><br><span class=\"line\">    if (locationAge &gt; 5.0) return;</span><br><span class=\"line\">    </span><br><span class=\"line\">    if (currentLocation.horizontalAccuracy &lt; 0) return;</span><br><span class=\"line\">    </span><br><span class=\"line\">    //å½“å‰ç»çº¬åº¦</span><br><span class=\"line\">    self.jingdu.text = [NSString stringWithFormat:@&quot;%f&quot;, currentLocation.coordinate.longitude];</span><br><span class=\"line\">    self.weidu.text = [NSString stringWithFormat:@&quot;%f&quot;, currentLocation.coordinate.latitude];</span><br><span class=\"line\">    </span><br><span class=\"line\">    CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];</span><br><span class=\"line\">    </span><br><span class=\"line\">    CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:currentLocation.coordinate.latitude longitude:currentLocation.coordinate.longitude];</span><br><span class=\"line\">    </span><br><span class=\"line\">    __weak typeof(self)weakSelf = self;</span><br><span class=\"line\">    </span><br><span class=\"line\">    //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -&gt; æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®</span><br><span class=\"line\">    [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        for (CLPlacemark *placeMark in placemarks)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            NSDictionary *addressDic=placeMark.addressDictionary;</span><br><span class=\"line\">            </span><br><span class=\"line\">            NSArray *location_Arr = [addressDic objectForKey:@&quot;FormattedAddressLines&quot;];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®</span><br><span class=\"line\">            </span><br><span class=\"line\">            weakSelf.location.text = [location_Arr firstObject];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;];</span><br><span class=\"line\">    </span><br><span class=\"line\">    [self.locationManager stopUpdatingLocation];</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>###ç›¸å†Œç›¸å…³ä»£ç </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#123;//ç›¸å†Œ</span><br><span class=\"line\">        </span><br><span class=\"line\">        NSURL *assetURL = [info objectForKey:UIImagePickerControllerReferenceURL];</span><br><span class=\"line\">        </span><br><span class=\"line\">        ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];</span><br><span class=\"line\">        </span><br><span class=\"line\">        __block NSMutableDictionary *imageMetadata_GPS = nil;</span><br><span class=\"line\">        </span><br><span class=\"line\">        __weak typeof(self)weakSelf = self;</span><br><span class=\"line\">        </span><br><span class=\"line\">        [library assetForURL:assetURL resultBlock:^(ALAsset *asset) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">             //è·å–æ—¶é—´</span><br><span class=\"line\">             NSDate* pictureDate = [asset valueForProperty:ALAssetPropertyDate];</span><br><span class=\"line\">             NSDateFormatter * formatter = [[NSDateFormatter alloc]init];</span><br><span class=\"line\">             formatter.dateFormat = @&quot;yyyy:MM:dd HH:mm:ss&quot;;</span><br><span class=\"line\">             formatter.timeZone = [NSTimeZone localTimeZone];</span><br><span class=\"line\">             NSString * pictureTime = [formatter stringFromDate:pictureDate];</span><br><span class=\"line\">             weakSelf.time.text = pictureTime;</span><br><span class=\"line\">             </span><br><span class=\"line\">             //è·å–GPS</span><br><span class=\"line\">             imageMetadata_GPS = [[NSMutableDictionary alloc] initWithDictionary:asset.defaultRepresentation.metadata];</span><br><span class=\"line\">             </span><br><span class=\"line\">             NSDictionary *GPSDict=[imageMetadata_GPS objectForKey:(NSString*)kCGImagePropertyGPSDictionary];</span><br><span class=\"line\">             </span><br><span class=\"line\">             if (GPSDict!=nil) &#123;</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 CLLocation *loc=[GPSDict locationFromGPSDictionary];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 weakSelf.weidu.text = [NSString stringWithFormat:@&quot;%f&quot;, loc.coordinate.latitude];</span><br><span class=\"line\">                 weakSelf.jingdu.text = [NSString stringWithFormat:@&quot;%f&quot;, loc.coordinate.longitude];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 CLGeocoder *clGeoCoder = [[CLGeocoder alloc] init];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 CLLocation *newLocation = [[CLLocation alloc] initWithLatitude:loc.coordinate.latitude longitude:loc.coordinate.longitude];</span><br><span class=\"line\">                 </span><br><span class=\"line\">                 //åå‘åœ°ç†ç¼–ç çš„è¯·æ±‚ -&gt; æ ¹æ®ç»çº¬åº¦ è·å– ä½ç½®</span><br><span class=\"line\">                 [clGeoCoder reverseGeocodeLocation:newLocation completionHandler: ^(NSArray *placemarks,NSError *error) &#123;</span><br><span class=\"line\">                     for (CLPlacemark *placeMark in placemarks)</span><br><span class=\"line\">                     &#123;</span><br><span class=\"line\">                         NSDictionary *addressDic=placeMark.addressDictionary;</span><br><span class=\"line\">                         </span><br><span class=\"line\">                         NSArray *location_Arr = [addressDic objectForKey:@&quot;FormattedAddressLines&quot;];//ç³»ç»Ÿæ ¼å¼åŒ–åçš„ä½ç½®</span><br><span class=\"line\">                         </span><br><span class=\"line\">                         weakSelf.location.text = [location_Arr firstObject];</span><br><span class=\"line\">                         </span><br><span class=\"line\">                     &#125;</span><br><span class=\"line\">                 &#125;];</span><br><span class=\"line\"></span><br><span class=\"line\">             &#125;else&#123;</span><br><span class=\"line\">                     weakSelf.weidu.text = @&quot;æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯&quot;;</span><br><span class=\"line\">                     weakSelf.jingdu.text = @&quot;æ­¤ç…§ç‰‡æ²¡æœ‰GPSä¿¡æ¯&quot;;</span><br><span class=\"line\">                     weakSelf.location.text = @&quot;æ­¤ç…§ç‰‡æ²¡æœ‰æ‹æ‘„ä½ç½®&quot;;</span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">                 </span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">            failureBlock:^(NSError *error) &#123;</span><br><span class=\"line\">        &#125;];</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>###demoåœ°å€<br><a href=\"https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime\" target=\"_blank\" rel=\"noopener\">https://github.com/pengshengsongcode/ThroughPicGetShootPlaceWithTime  </a></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}